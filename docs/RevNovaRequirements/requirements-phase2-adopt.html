<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Phase 2 - Adopt AI Suggestions | RevNova Requirements</title>
    <link rel="stylesheet" href="../styles.css">
        <style>
        .requirements-layout{display:flex;min-height:calc(100vh - 80px);margin-top:80px}
        .sidebar{width:280px;background:#f4f6f9;border-right:1px solid #c9c9c9;position:fixed;height:calc(100vh - 80px);overflow-y:auto;top:80px;left:0;z-index:100}
        .sidebar::-webkit-scrollbar{width:8px}
        .sidebar::-webkit-scrollbar-track{background:#f4f6f9}
        .sidebar::-webkit-scrollbar-thumb{background:#c9c9c9;border-radius:4px}
        .sidebar::-webkit-scrollbar-thumb:hover{background:#a8a8a8}
        .sidebar-nav{padding:1rem 0}
        .nav-section{margin-bottom:0.25rem}
        .nav-section-header{display:flex;align-items:center;padding:0.5rem 1rem;font-size:13px;font-weight:600;color:#181818;background:none;border:none;width:100%;text-align:left;cursor:pointer;transition:background 0.15s}
        .nav-section-header:hover{background:#e5e5e5}
        .nav-section-header.expanded{background:#e5e5e5}
        .nav-section-icon{width:16px;height:16px;margin-right:0.5rem;transition:transform 0.2s;flex-shrink:0}
        .nav-section-header.expanded .nav-section-icon{transform:rotate(90deg)}
        .nav-section-content{max-height:0;overflow:hidden;transition:max-height 0.3s ease-out}
        .nav-section-content.expanded{max-height:2000px}
        .nav-link{display:block;padding:0.5rem 1rem 0.5rem 2.5rem;color:#006dcc;text-decoration:none;font-size:13px;transition:background 0.15s}
        .nav-link:hover{background:#e5e5e5;text-decoration:underline}
        .nav-link.active{background:#1589ee;color:#fff;font-weight:600}
        .nav-link.active:hover{background:#0b5cab;text-decoration:none}
        .nav-subsection{margin:0.25rem 0}
        .nav-subsection-header{display:flex;align-items:center;padding:0.5rem 1rem 0.5rem 2.5rem;font-size:13px;font-weight:500;color:#181818;background:none;border:none;width:100%;text-align:left;cursor:pointer;transition:background 0.15s}
        .nav-subsection-header:hover{background:#e5e5e5}
        .nav-subsection-header.expanded{background:#e5e5e5}
        .nav-subsection-icon{width:12px;height:12px;margin-right:0.5rem;transition:transform 0.2s;flex-shrink:0}
        .nav-subsection-header.expanded .nav-subsection-icon{transform:rotate(90deg)}
        .nav-subsection-content{max-height:0;overflow:hidden;transition:max-height 0.3s ease-out}
        .nav-subsection-content.expanded{max-height:1000px}
        .nav-subsection-link{display:block;padding:0.4rem 1rem 0.4rem 3.5rem;color:#006dcc;text-decoration:none;font-size:13px;transition:background 0.15s}
        .nav-subsection-link:hover{background:#e5e5e5;text-decoration:underline}
        .nav-subsection-link.active{background:#1589ee;color:#fff;font-weight:600}
        .nav-subsection-link.active:hover{background:#0b5cab;text-decoration:none}
        .main-content{flex:1;margin-left:280px;padding:2rem 3rem;background:#fff}
        
        .page-header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:3rem;border-radius:12px;margin-bottom:3rem}
        .section-box{background:#fff;border:2px solid #e0e0e0;padding:2.5rem;margin:2rem 0;border-radius:12px}
        .section-box h3{color:#667eea;margin-top:0;border-bottom:2px solid #764ba2;padding-bottom:0.5rem}
        table{width:100%;border-collapse:collapse;margin:1.5rem 0}
        th,td{border:1px solid #ddd;padding:12px;text-align:left}
        th{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;font-weight:600;font-size:0.85rem}
        .badge-functional{background:#3498db;color:#fff;padding:0.3rem 0.6rem;border-radius:12px;font-size:0.75rem;font-weight:600}
        .badge-technical{background:#e74c3c;color:#fff;padding:0.3rem 0.6rem;border-radius:12px;font-size:0.75rem;font-weight:600}
        .ui-wireframe{background:#f9f9f9;border:2px dashed #ccc;padding:1.5rem;margin:1rem 0;border-radius:8px;font-family:monospace;font-size:0.85rem;line-height:1.6}
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="nav-left">
                <a href="../index.html" class="logo"><div class="logo-box">RevNova</div></a>
                <nav class="main-nav">
                    <ul>
                        <li><a href="../about-revnova.html">About RevNova</a></li>
                        <li><a href="../features.html">Features</a></li>
                        <li><a href="../pricing.html">Pricing</a></li>
                        <li><a href="requirements-home.html" class="active">RevNova Requirements</a></li>
                        <li><a href="../contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
            <div class="header-right">
                <div class="country-selector"><span class="fi fi-us"></span></div>
                <a href="../login.html" class="btn btn-login">Login</a>
            </div>
        </div>
    </header>

    <div class="requirements-layout">
                        <aside class="sidebar">
            <nav class="sidebar-nav">
                <!-- Platform Vision Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Platform Vision
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-home.html" class="nav-link">RevNova Vision & Strategy</a>
                        <a href="business-requirements.html" class="nav-link">High Level Business Requirements</a>
                        <a href="high-level-functional.html" class="nav-link">High Level Functional Design</a>
                    </div>
                </div>
                
                <!-- Phase 1 Section -->
                <div class="nav-section">
                    <button class="nav-section-header expanded">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 1 - SFDC CPQ â†’ RCA Migration (MVP)
                    </button>
                    <div class="nav-section-content expanded">
                        <!-- Functional Requirements Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Functional Requirements
                            </button>
                            <div class="nav-subsection-content">
                                <a href="requirements-phase1-connect.html" class="nav-subsection-link">1. Connection Wizard</a>
                                <a href="requirements-phase1-analyze.html" class="nav-subsection-link">2. Schema Analysis</a>
                                <a href="requirements-phase1-mapping.html" class="nav-subsection-link">3. Field Mapping</a>
                                <a href="requirements-phase1-transform.html" class="nav-subsection-link">4. Data Transformation</a>
                                <a href="requirements-phase1-validate.html" class="nav-subsection-link">5. Validation</a>
                                <a href="requirements-phase1-execute.html" class="nav-subsection-link">6. Migration Execution</a>
                                <a href="requirements-phase1-test.html" class="nav-subsection-link">7. Post-Migration Testing</a>
                                <a href="requirements-phase1-quotes.html" class="nav-subsection-link">8. Quotes</a>
                                <a href="requirements-phase1-contracts.html" class="nav-subsection-link">9. Contracts</a>
                                <a href="requirements-phase1-subscriptions.html" class="nav-subsection-link">10. Subscriptions</a>
                                <a href="requirements-phase1-inflight.html" class="nav-subsection-link">11. In-Flight Orders</a>
                            </div>
                        </div>
                        
                        <!-- Technical Requirements Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Technical Requirements
                            </button>
                            <div class="nav-subsection-content">
                                <a href="requirements-phase1-technical.html" class="nav-subsection-link">Migration Architecture</a>
                                <a href="requirements-phase1-technical.html#api" class="nav-subsection-link">API Specifications</a>
                                <a href="requirements-phase1-technical.html#database" class="nav-subsection-link">Database Schema</a>
                                <a href="requirements-phase1-technical.html#orchestration" class="nav-subsection-link">Orchestration Engine</a>
                            </div>
                        </div>
                        
                        <a href="requirements-mapping.html" class="nav-link">Complete Field Mapping</a>
                    </div>
                </div>
                
                <!-- Phase 2 Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 2 - AI-Powered Configuration
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-phase2-functional.html" class="nav-link">Functional Requirements</a>
                        <a href="requirements-phase2-technical.html" class="nav-link">Technical Requirements</a>
                        <a href="ai-product-configuration.html" class="nav-link">AI Product Configuration Engine</a>
                    </div>
                </div>
                
                <!-- Phase 3 Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 3 - Multi-CPQ Support
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-phase3-functional.html" class="nav-link">Functional Requirements</a>
                        <a href="requirements-phase3-technical.html" class="nav-link">Technical Requirements</a>
                    </div>
                </div>
                
                <!-- Phase 4 Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 4 - CRM Integration
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-phase4-functional.html" class="nav-link">Functional Requirements</a>
                        <a href="requirements-phase4-technical.html" class="nav-link">Technical Requirements</a>
                    </div>
                </div>
                
                <!-- Phase 5 Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 5 - ERP Connector
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-phase5-functional.html" class="nav-link">Functional Requirements</a>
                        <a href="requirements-phase5-technical.html" class="nav-link">Technical Requirements</a>
                    </div>
                </div>
                
                <!-- Additional Resources -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Additional Resources
                    </button>
                    <div class="nav-section-content">
                        <a href="security-compliance.html" class="nav-link">Security & Compliance</a>
                        <a href="performance-scalability.html" class="nav-link">Performance & Scalability</a>
                    </div>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div class="page-header">
                <h1>âœ… Adopt AI Suggestions - Selective Change Application</h1>
                <p>Review, approve, and apply AI-generated changes with field-level granularity</p>
            </div>

            <div class="ui-wireframe">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Review & Adopt AI Suggestions                        [Help] [?]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Product: Professional Services Package                        â”‚
â”‚  Modification Request: "Add monthly retainer option..."        â”‚
â”‚  AI Confidence: 92%  â€¢  Status: Pending Review                 â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Change Summary:                          [Select All] [ ]â”‚  â”‚
â”‚  â”‚ â˜‘ 1 Field Modified  â˜‘ 2 SKUs Added  â˜ 0 Deletions       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â–¼ MODIFY: Billing Frequency                     [â˜‘] Approve   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Current:                â”‚ Proposed:                       â”‚  â”‚
â”‚  â”‚ One-time                â”‚ One-time OR Monthly             â”‚  â”‚
â”‚  â”‚                         â”‚                                 â”‚  â”‚
â”‚  â”‚ Confidence: 95%  â€¢  Impact: Low  â€¢  Effort: 1 hour       â”‚  â”‚
â”‚  â”‚ ğŸ’¬ AI Rationale: User explicitly requested monthly optionâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â–¼ ADD: Monthly Retainer SKU                     [â˜‘] Approve   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ New SKU Details:                                          â”‚  â”‚
â”‚  â”‚ â€¢ Name: Professional Services - Monthly Retainer         â”‚  â”‚
â”‚  â”‚ â€¢ Price: $500/month                                       â”‚  â”‚
â”‚  â”‚ â€¢ Custom Field: Included_Hours__c = 10                   â”‚  â”‚
â”‚  â”‚ â€¢ Product Family: Professional Services                  â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚ Confidence: 88%  â€¢  Impact: Medium  â€¢  Effort: 2 hours   â”‚  â”‚
â”‚  â”‚ âš ï¸ Warning: Requires new custom field creation            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â–¼ ADD: Premium SLA Feature                      [â˜] Reject    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ New Feature Details:                                      â”‚  â”‚
â”‚  â”‚ â€¢ Name: Premium Support SLA                              â”‚  â”‚
â”‚  â”‚ â€¢ Type: Add-on (optional)                                â”‚  â”‚
â”‚  â”‚ â€¢ Price: $200/month                                       â”‚  â”‚
â”‚  â”‚ â€¢ Response Time SLA: < 2 hours                           â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚ Confidence: 82%  â€¢  Impact: High  â€¢  Effort: 8 hours     â”‚  â”‚
â”‚  â”‚ âš ï¸ Warning: Integration with support ticketing required   â”‚  â”‚
â”‚  â”‚ ğŸ’¬ Reviewer Note: "Not ready for this release - defer"   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  Adoption Summary: 2 of 3 changes approved                     â”‚
â”‚                                                                 â”‚
â”‚     [ğŸ’¾ Save for Later]   [ğŸ“§ Send for Approval]   [âœ… Apply Now]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <section class="section-box">
                <h3><span class="badge-functional">Functional</span> Side-by-Side Comparison View</h3>
                <table>
                    <tr><th>Requirement ID</th><th>Description</th><th>Acceptance Criteria</th></tr>
                    <tr>
                        <td><strong>FR-ADOPT-001.1</strong></td>
                        <td>Change-by-Change Review</td>
                        <td>â€¢ Display each change as expandable card<br>â€¢ Show Current vs Proposed in split-pane view<br>â€¢ Highlight differences in yellow (modified fields)<br>â€¢ Show field-level metadata (data type, required, custom)</td>
                    </tr>
                    <tr>
                        <td><strong>FR-ADOPT-001.2</strong></td>
                        <td>Confidence & Impact Indicators</td>
                        <td>â€¢ Display AI confidence score (0-100%) with color coding (Green â‰¥90%, Yellow 70-89%, Red <70%)<br>â€¢ Show impact level: Low (cosmetic), Medium (adds fields), High (breaks integrations)<br>â€¢ Estimate implementation effort in hours<br>â€¢ List affected downstream systems (e.g., "Updates required in CRM, ERP")</td>
                    </tr>
                    <tr>
                        <td><strong>FR-ADOPT-001.3</strong></td>
                        <td>AI Rationale & Warnings</td>
                        <td>â€¢ Show AI's reasoning for each change in collapsible section<br>â€¢ Display warnings with severity icons (ğŸ”´ Critical, âš ï¸ Warning, â„¹ï¸ Info)<br>â€¢ Link to documentation for breaking changes<br>â€¢ Suggest mitigation steps (e.g., "Test on sandbox first")</td>
                    </tr>
                </table>
            </section>

            <section class="section-box">
                <h3><span class="badge-functional">Functional</span> Selective Approval Workflow</h3>
                <table>
                    <tr><th>Requirement ID</th><th>Description</th><th>Acceptance Criteria</th></tr>
                    <tr>
                        <td><strong>FR-ADOPT-002.1</strong></td>
                        <td>Checkbox Selection</td>
                        <td>â€¢ Individual checkbox next to each change (Approve/Reject)<br>â€¢ Select All / Deselect All buttons at top<br>â€¢ Auto-select high-confidence changes (â‰¥90%) by default<br>â€¢ Disable checkbox if change has critical warnings (require explicit override)</td>
                    </tr>
                    <tr>
                        <td><strong>FR-ADOPT-002.2</strong></td>
                        <td>Reviewer Comments</td>
                        <td>â€¢ Add comments to each change (e.g., "Approved by Sales VP", "Defer to v2.0")<br>â€¢ @mention other users for review<br>â€¢ Attach supporting documents (screenshots, approval emails)<br>â€¢ Track comment history (who said what, when)</td>
                    </tr>
                    <tr>
                        <td><strong>FR-ADOPT-002.3</strong></td>
                        <td>Dependency Checking</td>
                        <td>â€¢ Detect dependencies between changes (e.g., "SKU B requires Field A to be added first")<br>â€¢ Show dependency graph visualization<br>â€¢ Prevent partial adoption if dependencies exist<br>â€¢ Suggest optimal adoption order</td>
                    </tr>
                    <tr>
                        <td><strong>FR-ADOPT-002.4</strong></td>
                        <td>Conflict Resolution</td>
                        <td>â€¢ Detect conflicts (e.g., two changes modify same field differently)<br>â€¢ Highlight conflicts in red border<br>â€¢ Provide conflict resolution UI (choose Change A, Change B, or manual merge)<br>â€¢ Re-run AI if manual merge needed</td>
                    </tr>
                </table>
            </section>

            <section class="section-box">
                <h3><span class="badge-functional">Functional</span> Application & Rollback</h3>
                <table>
                    <tr><th>Action</th><th>Behavior</th></tr>
                    <tr><td><strong>Save for Later</strong></td><td>Save approved changes to database (status = "saved"), no Salesforce changes yet</td></tr>
                    <tr><td><strong>Send for Approval</strong></td><td>Email stakeholders with summary, link to review page, request approval within 48 hours</td></tr>
                    <tr><td><strong>Apply Now (Sandbox)</strong></td><td>Apply to Salesforce sandbox, generate test report, notify QA team</td></tr>
                    <tr><td><strong>Apply Now (Production)</strong></td><td>Apply to production org, create change set backup, send success notification</td></tr>
                    <tr><td><strong>Rollback</strong></td><td>Revert to previous version (restore from backup), create rollback audit log entry</td></tr>
                </table>
            </section>

            <section class="section-box">
                <h3><span class="badge-technical">Technical</span> Merge & Conflict Detection Algorithm</h3>
                <pre style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:8px;overflow-x:auto">
// Detect conflicts when applying multiple changes
function detectConflicts(changes: Change[]): Conflict[] {
    const conflicts: Conflict[] = [];
    const fieldMap = new Map<string, Change[]>();
    
    // Group changes by field
    changes.forEach(change => {
        const key = change.field;
        if (!fieldMap.has(key)) fieldMap.set(key, []);
        fieldMap.get(key)!.push(change);
    });
    
    // Check for conflicts
    fieldMap.forEach((fieldChanges, fieldName) => {
        if (fieldChanges.length > 1) {
            // Multiple changes to same field
            const values = fieldChanges.map(c => c.proposedValue);
            const uniqueValues = new Set(values);
            
            if (uniqueValues.size > 1) {
                conflicts.push({
                    field: fieldName,
                    conflictingChanges: fieldChanges,
                    resolutionStrategy: 'MANUAL', // Require user to pick
                    severity: 'HIGH'
                });
            }
        }
    });
    
    return conflicts;
}

// Check dependencies
function checkDependencies(changes: Change[]): Dependency[] {
    const deps: Dependency[] = [];
    
    changes.forEach(change => {
        if (change.type === 'ADD' && change.requiredFields) {
            change.requiredFields.forEach(reqField => {
                const dependsOn = changes.find(c => c.field === reqField);
                if (!dependsOn) {
                    deps.push({
                        change: change.field,
                        dependsOn: reqField,
                        status: 'MISSING'
                    });
                }
            });
        }
    });
    
    return deps;
}
                </pre>
            </section>

            <section class="section-box">
                <h3><span class="badge-technical">Technical</span> Database Schema - Adoption Tracking</h3>
                <pre style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:8px;overflow-x:auto">
CREATE TABLE adoption_sessions (
    session_id UUID PRIMARY KEY,
    modification_id UUID NOT NULL,
    reviewer_id UUID NOT NULL,
    approved_changes JSONB NOT NULL, -- Array of change IDs that were approved
    rejected_changes JSONB NOT NULL, -- Array of change IDs that were rejected
    comments JSONB, -- { "change_id": "comment text" }
    applied_at TIMESTAMP,
    rollback_point JSONB, -- Backup of pre-change state for rollback
    status VARCHAR(50) NOT NULL -- 'draft', 'pending_approval', 'applied', 'rolled_back'
);

CREATE INDEX idx_adoption_reviewer ON adoption_sessions(reviewer_id, applied_at DESC);
                </pre>
            </section>

            <section>
                <h2>Navigation</h2>
                <ul style="line-height:2">
                    <li><strong>Previous:</strong> <a href="requirements-phase2-modify.html">Page 2: Modify with AI</a></li>
                    <li><strong>Next:</strong> <a href="requirements-phase2-planning.html">Page 4: Planning Tools</a></li>
                </ul>
            </section>
        </main>
    </div>
    <script>
        // Collapsible navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Handle section headers - single click toggle
            const sectionHeaders = document.querySelectorAll('.nav-section-header');
            sectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            document.querySelectorAll('.nav-section-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Handle subsection headers - single click toggle
            const subsectionHeaders = document.querySelectorAll('.nav-subsection-header');
            subsectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            document.querySelectorAll('.nav-subsection-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Auto-expand section containing active link
            const activeLinks = document.querySelectorAll('.nav-link.active, .nav-subsection-link.active');
            activeLinks.forEach(link => {
                // Expand parent section
                let section = link.closest('.nav-section-content');
                if (section) {
                    section.classList.add('expanded');
                    section.previousElementSibling.classList.add('expanded');
                }
                
                // Expand parent subsection if exists
                let subsection = link.closest('.nav-subsection-content');
                if (subsection) {
                    subsection.classList.add('expanded');
                    subsection.previousElementSibling.classList.add('expanded');
                }
            });
        });
    </script>

    <script>
        // Wait for DOM to be ready
        document.addEventListener('DOMContentLoaded', function() {
            // Clone all section headers to remove any duplicate event listeners
            const sectionHeaders = document.querySelectorAll('.nav-section-header');
            sectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            // Clone all subsection headers
            const subsectionHeaders = document.querySelectorAll('.nav-subsection-header');
            subsectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            // Add click handlers to main section headers
            document.querySelectorAll('.nav-section-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Add click handlers to subsection headers
            document.querySelectorAll('.nav-subsection-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Auto-expand section containing active link
            const activeLink = document.querySelector('.nav-link.active, .nav-subsection-link.active');
            if (activeLink) {
                let parent = activeLink.parentElement;
                while (parent && !parent.classList.contains('sidebar')) {
                    if (parent.classList.contains('nav-section-content') || parent.classList.contains('nav-subsection-content')) {
                        parent.classList.add('expanded');
                        const header = parent.previousElementSibling;
                        if (header) {
                            header.classList.add('expanded');
                        }
                    }
                    parent = parent.parentElement;
                }
            }
        });
    </script>
</body>
</html>
