<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RevNova Platform - Vision & Strategy</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; }
        
        .requirements-layout {
            display: flex;
            min-height: calc(100vh - 80px);
            margin-top: 80px;
        }
        
        .sidebar {
            width: 280px;
            background: #f8f9fa;
            border-right: 1px solid #e0e0e0;
            padding: 2rem 0;
            position: fixed;
            left: 0;
            top: 80px;
            height: calc(100vh - 80px);
            overflow-y: auto;
            z-index: 100;
        }
        
        .sidebar h3 {
            padding: 0 1.5rem;
            font-size: 0.85rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin: 1.5rem 0 0.5rem;
        }
        
        .sidebar h3:first-child { margin-top: 0; }
        
        .sidebar ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .sidebar ul li a {
            display: block;
            padding: 0.6rem 1.5rem;
            color: #333;
            text-decoration: none;
            font-size: 0.95rem;
            transition: all 0.2s;
        }
        
        .sidebar ul li a:hover {
            background: #e9ecef;
            color: #11998e;
        }
        
        .sidebar ul li a.active {
            background: #11998e;
            color: #fff;
            font-weight: 500;
        }
        
        .sidebar ul ul { padding-left: 0; }
        
        .sidebar ul ul li a {
            padding-left: 2.5rem;
            font-size: 0.9rem;
        }
        
        /* CRITICAL FIX: Main content must have margin-left equal to sidebar width */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 3rem;
            background: #fff;
            min-width: 0; /* Prevent flex items from overflowing */
        }
        
        .vision-header {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: #fff;
            padding: 3rem;
            border-radius: 12px;
            margin-bottom: 3rem;
            box-shadow: 0 4px 15px rgba(17, 153, 142, 0.2);
        }
        
        .vision-header h1 {
            margin: 0 0 1rem 0;
            font-size: 2.5rem;
            font-weight: 700;
        }
        
        .vision-header p {
            margin: 0;
            font-size: 1.2rem;
            opacity: 0.95;
        }
        
        .metrics-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }
        
        .metric-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
        }
        
        .metric-value {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .metric-label {
            font-size: 1rem;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .strategy-card {
            background: #fff;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 2rem;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .strategy-card:hover {
            border-color: #11998e;
            box-shadow: 0 8px 24px rgba(17, 153, 142, 0.15);
            transform: translateY(-4px);
        }
        
        .phase-badge {
            display: inline-block;
            background: #11998e;
            color: #fff;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 1rem;
        }
        
        .strategy-card h3 {
            color: #11998e;
            margin: 1rem 0;
            font-size: 1.5rem;
        }
        
        .strategy-card p {
            margin: 0.5rem 0;
            line-height: 1.6;
        }
        
        .strategy-card strong {
            color: #333;
        }
        
        .tech-stack-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        
        .tech-stack-table th,
        .tech-stack-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .tech-stack-table th {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: #fff;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }
        
        .tech-stack-table tr:last-child td {
            border-bottom: none;
        }
        
        .tech-stack-table tr:hover {
            background: #f8f9fa;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                top: 0;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .requirements-layout {
                flex-direction: column;
            }
            
            .vision-header h1 {
                font-size: 1.8rem;
            }
            
            .metrics-row {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .strategy-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="nav-left">
                <a href="../index.html" class="logo"><div class="logo-box">RevNova</div></a>
                <nav class="main-nav">
                    <ul>
                        <li><a href="../Onboarding/onboarding-home.html">Onboarding</a></li>
                        <li><a href="../about-revnova.html">About RevNova</a></li>
                        <li><a href="../features.html">Features</a></li>
                        <li><a href="../pricing.html">Pricing</a></li>
                        <li><a href="requirements-home.html" class="active">RevNova Requirements</a></li>
                        <li><a href="../contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
            <div class="header-right">
                <div class="country-selector"><span class="fi fi-us"></span></div>
                <a href="../login.html" class="btn btn-login">Login</a>
            </div>
        </div>
    </header>

    <div class="requirements-layout">
        <!-- Left Sidebar Navigation -->
                        <aside class="sidebar">
            <nav class="sidebar-nav">
                <!-- Platform Vision Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Platform Vision
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-home.html" class="nav-link">RevNova Vision & Strategy</a>
                        <a href="business-requirements.html" class="nav-link">High Level Business Requirements</a>
                        <a href="high-level-functional.html" class="nav-link">High Level Functional Design</a>
                    </div>
                </div>
                
                <!-- Phase 1 Section -->
                <div class="nav-section">
                    <button class="nav-section-header expanded">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 1 - SFDC CPQ → RCA Migration (MVP)
                    </button>
                    <div class="nav-section-content expanded">
                        <!-- Functional Requirements Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Functional Requirements
                            </button>
                            <div class="nav-subsection-content">
                                <a href="requirements-phase1-connect.html" class="nav-subsection-link">1. Connection Wizard</a>
                                <a href="requirements-phase1-analyze.html" class="nav-subsection-link">2. Schema Analysis</a>
                                <a href="requirements-phase1-mapping.html" class="nav-subsection-link">3. Field Mapping</a>
                                <a href="requirements-phase1-transform.html" class="nav-subsection-link">4. Data Transformation</a>
                                <a href="requirements-phase1-validate.html" class="nav-subsection-link">5. Validation</a>
                                <a href="requirements-phase1-execute.html" class="nav-subsection-link">6. Migration Execution</a>
                                <a href="requirements-phase1-test.html" class="nav-subsection-link">7. Post-Migration Testing</a>
                                <a href="requirements-phase1-quotes.html" class="nav-subsection-link">8. Quotes</a>
                                <a href="requirements-phase1-contracts.html" class="nav-subsection-link">9. Contracts</a>
                                <a href="requirements-phase1-subscriptions.html" class="nav-subsection-link">10. Subscriptions</a>
                                <a href="requirements-phase1-inflight.html" class="nav-subsection-link">11. In-Flight Orders</a>
                            </div>
                        </div>
                        
                        <!-- Technical Requirements Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Technical Requirements
                            </button>
                            <div class="nav-subsection-content">
                                <a href="requirements-phase1-technical.html" class="nav-subsection-link">Migration Architecture</a>
                                <a href="requirements-phase1-technical.html#api" class="nav-subsection-link">API Specifications</a>
                                <a href="requirements-phase1-technical.html#database" class="nav-subsection-link">Database Schema</a>
                                <a href="requirements-phase1-technical.html#orchestration" class="nav-subsection-link">Orchestration Engine</a>
                            </div>
                        </div>
                        
                        <a href="requirements-mapping.html" class="nav-link">Complete Field Mapping</a>
                    </div>
                </div>
                
                <!-- Phase 2 Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 2 - AI-Powered Configuration
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-phase2-functional.html" class="nav-link">Functional Requirements</a>
                        <a href="requirements-phase2-technical.html" class="nav-link">Technical Requirements</a>
                        <a href="ai-product-configuration.html" class="nav-link">AI Product Configuration Engine</a>
                    </div>
                </div>
                
                <!-- Phase 3 Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 3 - Multi-CPQ Support
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-phase3-functional.html" class="nav-link">Functional Requirements</a>
                        <a href="requirements-phase3-technical.html" class="nav-link">Technical Requirements</a>
                    </div>
                </div>
                
                <!-- Phase 4 Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 4 - CRM Integration
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-phase4-functional.html" class="nav-link">Functional Requirements</a>
                        <a href="requirements-phase4-technical.html" class="nav-link">Technical Requirements</a>
                    </div>
                </div>
                
                <!-- Phase 5 Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Phase 5 - ERP Connector
                    </button>
                    <div class="nav-section-content">
                        <a href="requirements-phase5-functional.html" class="nav-link">Functional Requirements</a>
                        <a href="requirements-phase5-technical.html" class="nav-link">Technical Requirements</a>
                    </div>
                </div>
                
                <!-- Additional Resources -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Additional Resources
                    </button>
                    <div class="nav-section-content">
                        <a href="security-compliance.html" class="nav-link">Security & Compliance</a>
                        <a href="performance-scalability.html" class="nav-link">Performance & Scalability</a>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <div class="vision-header">
                <h1>RevNova Platform - Vision & Strategy</h1>
                <p>AI-powered System Transformation as a Service (STaaS) for Salesforce CPQ to Revenue Cloud migrations and beyond</p>
            </div>

            <section>
                <h2>Platform Vision</h2>
                <p style="font-size: 1.1rem; line-height: 1.8; color: #555;">
                    RevNova is revolutionizing enterprise system migrations through intelligent automation, AI-powered product configuration, 
                    and comprehensive migration tools. Our platform reduces migration time by 80%, ensures 100% data accuracy, 
                    and provides AI-assisted product design with impact analysis and budgeting capabilities.
                </p>
            </section>

            <div class="metrics-row">
                <div class="metric-box">
                    <div class="metric-value">90%</div>
                    <div class="metric-label">Automation Rate</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">100%</div>
                    <div class="metric-label">Data Accuracy</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">80%</div>
                    <div class="metric-label">Time Reduction</div>
                </div>
                <div class="metric-box">
                    <div class="metric-value">99.9%</div>
                    <div class="metric-label">Platform Uptime</div>
                </div>
            </div>

            <section style="margin-top: 3rem;">
                <h2>5-Phase Implementation Roadmap</h2>
                <p style="margin-bottom: 2rem;">RevNova follows a strategic phased approach to deliver value incrementally while building toward a comprehensive platform:</p>
                
                <div class="strategy-grid">
                    <div class="strategy-card">
                        <span class="phase-badge">PHASE 1 - MVP (4 WEEKS)</span>
                        <h3>SFDC CPQ → Revenue Cloud Migration</h3>
                        <p><strong>Timeline:</strong> End of November 2025</p>
                        <p><strong>Scope:</strong> Complete end-to-end migration platform covering all workstreams (WS1-WS5):</p>
                        <ul style="margin-left: 1.5rem; line-height: 1.8;">
                            <li>Product Catalog (WS1)</li>
                            <li>Quotes & Pricing (WS2)</li>
                            <li>Contracts & Assets (WS3)</li>
                            <li>Billing & Invoicing (WS4)</li>
                            <li>Revenue Cloud Advanced Features (WS5)</li>
                        </ul>
                        <p><strong>Deliverables:</strong> 7-page migration wizard, AI field mapping (70+ fields), hybrid staging model, batch processing, rollback capability, real-time monitoring</p>
                    </div>

                    <div class="strategy-card">
                        <span class="phase-badge">PHASE 2</span>
                        <h3>AI Product Configuration Platform</h3>
                        <p><strong>Timeline:</strong> Q1 2026</p>
                        <p><strong>Scope:</strong> Intelligent product design and configuration tools within RevNova platform</p>
                        <ul style="margin-left: 1.5rem; line-height: 1.8;">
                            <li><strong>Generate with AI:</strong> AI-powered product design from requirements</li>
                            <li><strong>Modify with AI:</strong> AI-assisted product modifications</li>
                            <li><strong>Adopt AI Suggestions:</strong> Review and adopt AI-recommended configurations</li>
                            <li><strong>Marketing Plan:</strong> AI-generated go-to-market strategies</li>
                            <li><strong>Selling Plan:</strong> Sales enablement and pricing strategies</li>
                            <li><strong>Servicing Plan:</strong> Post-sale service and support planning</li>
                            <li><strong>Impact Analysis:</strong> System-wide change impact assessment</li>
                            <li><strong>Budget Calculation:</strong> Automated cost estimation for implementation</li>
                        </ul>
                        <p><strong>Deliverables:</strong> AI product designer, impact analyzer, budget calculator, plan generators</p>
                    </div>

                    <div class="strategy-card">
                        <span class="phase-badge">PHASE 3</span>
                        <h3>Multi-CPQ Platform Support</h3>
                        <p><strong>Timeline:</strong> Q2 2026</p>
                        <p><strong>Scope:</strong> Expand source system support beyond SFDC CPQ</p>
                        <ul style="margin-left: 1.5rem; line-height: 1.8;">
                            <li>Oracle CPQ Cloud → SFDC Revenue Cloud</li>
                            <li>Apttus/Conga CPQ → SFDC Revenue Cloud</li>
                            <li>SAP CPQ → SFDC Revenue Cloud</li>
                            <li>Other CPQ systems → SFDC Revenue Cloud</li>
                        </ul>
                        <p><strong>Deliverables:</strong> Multi-source connectors, universal field mapping engine, cross-platform data models</p>
                    </div>

                    <div class="strategy-card">
                        <span class="phase-badge">PHASE 4</span>
                        <h3>CRM + CPQ Integration</h3>
                        <p><strong>Timeline:</strong> Q3 2026</p>
                        <p><strong>Scope:</strong> Support CRM+CPQ combinations migrating to Salesforce RLM + Revenue Cloud</p>
                        <ul style="margin-left: 1.5rem; line-height: 1.8;">
                            <li>Microsoft Dynamics + CPQ → SFDC RLM + Revenue Cloud</li>
                            <li>SugarCRM + CPQ → SFDC RLM + Revenue Cloud</li>
                            <li>HubSpot + CPQ → SFDC RLM + Revenue Cloud</li>
                            <li>Custom CRMs → SFDC RLM + Revenue Cloud</li>
                        </ul>
                        <p><strong>Deliverables:</strong> CRM data migration, relationship mapping, account hierarchy preservation</p>
                    </div>

                    <div class="strategy-card">
                        <span class="phase-badge">PHASE 5</span>
                        <h3>ERP System Integration</h3>
                        <p><strong>Timeline:</strong> Q4 2026</p>
                        <p><strong>Scope:</strong> Enterprise Resource Planning systems to Salesforce RLM + Revenue Cloud</p>
                        <ul style="margin-left: 1.5rem; line-height: 1.8;">
                            <li>SAP ERP → SFDC RLM + Revenue Cloud</li>
                            <li>Oracle ERP Cloud → SFDC RLM + Revenue Cloud</li>
                            <li>Microsoft Dynamics 365 → SFDC RLM + Revenue Cloud</li>
                            <li>NetSuite → SFDC RLM + Revenue Cloud</li>
                        </ul>
                        <p><strong>Deliverables:</strong> ERP connectors, financial data migration, inventory sync, order management integration</p>
                    </div>
                </div>
            </section>

            <section style="margin-top: 4rem;">
                <h2>Technology Stack</h2>
                <table class="tech-stack-table">
                    <thead>
                        <tr>
                            <th>Layer</th>
                            <th>Technology</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Frontend</strong></td>
                            <td>React 18, TypeScript, TailwindCSS</td>
                            <td>Migration wizard UI, dashboards, real-time monitoring</td>
                        </tr>
                        <tr>
                            <td><strong>Backend API</strong></td>
                            <td>Node.js, Express, REST APIs</td>
                            <td>Business logic, orchestration, API gateway</td>
                        </tr>
                        <tr>
                            <td><strong>Database</strong></td>
                            <td>PostgreSQL 15 (Multi-tenant)</td>
                            <td>Project data, field mappings, audit logs</td>
                        </tr>
                        <tr>
                            <td><strong>Cache</strong></td>
                            <td>Redis</td>
                            <td>Session management, API response caching</td>
                        </tr>
                        <tr>
                            <td><strong>Message Queue</strong></td>
                            <td>Bull (Redis-backed)</td>
                            <td>Batch job processing, async workflows</td>
                        </tr>
                        <tr>
                            <td><strong>Storage</strong></td>
                            <td>AWS S3</td>
                            <td>Staging data archival, error reports, audit exports</td>
                        </tr>
                        <tr>
                            <td><strong>AI/ML</strong></td>
                            <td>OpenAI GPT-4, Custom ML Models</td>
                            <td>Field mapping suggestions, product design generation, impact analysis</td>
                        </tr>
                        <tr>
                            <td><strong>Integration</strong></td>
                            <td>Salesforce Bulk API 2.0, REST APIs</td>
                            <td>Source/target org connectivity, data read/write</td>
                        </tr>
                        <tr>
                            <td><strong>Orchestration</strong></td>
                            <td>Docker, Kubernetes</td>
                            <td>Containerization, scaling, deployment</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section style="background: #f0f6fb; padding: 2rem; border-radius: 12px; margin-top: 3rem;">
                <h3 style="margin-top: 0; color: #11998e;">Navigation Guide</h3>
                <p>Use the left sidebar to explore detailed requirements for each phase:</p>
                <ul style="line-height: 2;">
                    <li><strong>Platform Vision:</strong> High-level business and functional requirements</li>
                    <li><strong>Phase 1 (MVP):</strong> Complete SFDC CPQ → Revenue Cloud migration (Due: November 2025)</li>
                    <li><strong>Phase 2:</strong> AI Product Configuration and planning tools</li>
                    <li><strong>Phase 3-5:</strong> Multi-system support (CPQs, CRMs, ERPs)</li>
                </ul>
            </section>
        </main>
    </div>

    <footer style="background: #2c3e50; color: #ecf0f1; padding: 2rem 0; text-align: center; margin-top: 3rem;">
        <div class="container">
            <p>&copy; 2025 RevNova. System Transformation as a Service.</p>
        </div>
    </footer>
    <script>
        // Collapsible navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Handle section headers - single click toggle
            const sectionHeaders = document.querySelectorAll('.nav-section-header');
            sectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            document.querySelectorAll('.nav-section-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Handle subsection headers - single click toggle
            const subsectionHeaders = document.querySelectorAll('.nav-subsection-header');
            subsectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            document.querySelectorAll('.nav-subsection-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Auto-expand section containing active link
            const activeLinks = document.querySelectorAll('.nav-link.active, .nav-subsection-link.active');
            activeLinks.forEach(link => {
                // Expand parent section
                let section = link.closest('.nav-section-content');
                if (section) {
                    section.classList.add('expanded');
                    section.previousElementSibling.classList.add('expanded');
                }
                
                // Expand parent subsection if exists
                let subsection = link.closest('.nav-subsection-content');
                if (subsection) {
                    subsection.classList.add('expanded');
                    subsection.previousElementSibling.classList.add('expanded');
                }
            });
        });
    </script>

    <script>
        // Wait for DOM to be ready
        document.addEventListener('DOMContentLoaded', function() {
            // Clone all section headers to remove any duplicate event listeners
            const sectionHeaders = document.querySelectorAll('.nav-section-header');
            sectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            // Clone all subsection headers
            const subsectionHeaders = document.querySelectorAll('.nav-subsection-header');
            subsectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            // Add click handlers to main section headers
            document.querySelectorAll('.nav-section-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Add click handlers to subsection headers
            document.querySelectorAll('.nav-subsection-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Auto-expand section containing active link
            const activeLink = document.querySelector('.nav-link.active, .nav-subsection-link.active');
            if (activeLink) {
                let parent = activeLink.parentElement;
                while (parent && !parent.classList.contains('sidebar')) {
                    if (parent.classList.contains('nav-section-content') || parent.classList.contains('nav-subsection-content')) {
                        parent.classList.add('expanded');
                        const header = parent.previousElementSibling;
                        if (header) {
                            header.classList.add('expanded');
                        }
                    }
                    parent = parent.parentElement;
                }
            }
        });
    </script>
</body>
</html>
