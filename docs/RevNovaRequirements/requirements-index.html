<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RevNova Platform Requirements</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <header class="requirements-header">
        <div class="container header-container">
            <a href="../index.html" class="logo"><div class="logo-box">RevNova</div></a>
            <nav class="main-nav">
                <ul>
                    <li><a href="product-vision.html">Product Vision</a></li>
                    <li><a href="business-requirements.html">Business Requirements</a></li>
                    <li><a href="requirements-mapping.html">Field Mapping</a></li>
                    <li><a href="requirements-phase1-functional.html">Phase 1 - Functional</a></li>
                    <li><a href="requirements-phase1-technical.html">Phase 1 - Technical</a></li>
                    <li><a href="requirements-phase2-functional.html">Phase 2 - Functional</a></li>
                    <li><a href="requirements-phase2-technical.html">Phase 2 - Technical</a></li>
                    <li><a href="requirements-phase3-functional.html">Phase 3 - Functional</a></li>
                    <li><a href="requirements-phase3-technical.html">Phase 3 - Technical</a></li>
                    <li><a href="requirements-phase4-functional.html">Phase 4 - Functional</a></li>
                    <li><a href="requirements-phase4-technical.html">Phase 4 - Technical</a></li>
                    <li><a href="requirements-phase5-functional.html">Phase 5 - Functional</a></li>
                    <li><a href="requirements-phase5-technical.html">Phase 5 - Technical</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <h1>RevNova Platform Requirements</h1>
        <p>This folder contains implementation-ready Functional and Technical requirements for the RevNova SFDC CPQ → Revenue Cloud migration product (Phase 1..5). Each Functional page contains field-level tables and Business Rules. Technical pages map those fields to APIs, DB tables (STG1/STG2/EAV), and transformation rules.</p>

        <section>
            <h2>Strategic Documents</h2>
            <ul>
                <li><a href="product-vision.html">Product Vision</a> — RevNova platform strategy, 5-phase roadmap, technology stack, and success metrics</li>
                <li><a href="business-requirements.html">Business Requirements</a> — High-level stakeholder needs, KPIs, constraints, and non-functional requirements</li>
                <li><a href="requirements-mapping.html">Complete Field Mapping</a> — CPQ → RCA field mappings for all workstreams (WS1-WS5)</li>
            </ul>
        </section>

        <section>
            <h2>Phase-by-Phase Requirements</h2>
            <h3>Phase 1: Product Catalog Migration (WS1)</h3>
            <ul>
                <li><a href="requirements-phase1-functional.html">Functional Requirements</a> — Migration wizard UI, field mappings, business rules BR-M01 to BR-M10</li>
                <li><a href="requirements-phase1-technical.html">Technical Requirements</a> — API specs, database schema (STG1/STG2), transform logic, rollback procedures</li>
            </ul>

            <h3>Phase 2: Quotes & Pricing (WS2)</h3>
            <ul>
                <li><a href="requirements-phase2-functional.html">Functional Requirements</a> — Quote migration, discount schedules, business rules BR-Q01 to BR-Q06</li>
                <li><a href="requirements-phase2-technical.html">Technical Requirements</a> — Quote APIs, pricing transform logic, bulk processing</li>
            </ul>

            <h3>Phase 3: Contracts & Assets (WS3)</h3>
            <ul>
                <li><a href="requirements-phase3-functional.html">Functional Requirements</a> — Contract lifecycle, asset tracking, business rules BR-C01 to BR-C04</li>
                <li><a href="requirements-phase3-technical.html">Technical Requirements</a> — Contract/asset APIs, subscription transform logic</li>
            </ul>

            <h3>Phase 4: Billing & Invoicing (WS4)</h3>
            <ul>
                <li><a href="requirements-phase4-functional.html">Functional Requirements</a> — Invoice generation, payment tracking, business rules BR-I01 to BR-I03</li>
                <li><a href="requirements-phase4-technical.html">Technical Requirements</a> — Billing APIs, invoice transform logic, payment reconciliation</li>
            </ul>

            <h3>Phase 5: Revenue Cloud Advanced (WS5)</h3>
            <ul>
                <li><a href="requirements-phase5-functional.html">Functional Requirements</a> — Product hierarchies, bundling, EPC integration, business rules BR-P01 to BR-P02</li>
                <li><a href="requirements-phase5-technical.html">Technical Requirements</a> — RCA product APIs, hierarchy management, bundle pricing</li>
            </ul>
        </section>

        <section>
            <h2>How to use</h2>
            <ol>
                <li><strong>Start with strategy:</strong> Review Product Vision and Business Requirements for high-level context</li>
                <li><strong>Understand field mappings:</strong> Consult the Field Mapping page for CPQ → RCA field transformations</li>
                <li><strong>Drill into phases:</strong> Review Functional pages for UI design and Business Rules</li>
                <li><strong>Implement technical specs:</strong> Use Technical pages for API endpoints, database schemas, and transform logic</li>
            </ol>
        </section>
    </main>

    <footer>
        <div class="container">&copy; RevNova</div>
    </footer>
    <script>
        // Collapsible navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Handle section headers - single click toggle
            const sectionHeaders = document.querySelectorAll('.nav-section-header');
            sectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            document.querySelectorAll('.nav-section-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Handle subsection headers - single click toggle
            const subsectionHeaders = document.querySelectorAll('.nav-subsection-header');
            subsectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            document.querySelectorAll('.nav-subsection-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Auto-expand section containing active link
            const activeLinks = document.querySelectorAll('.nav-link.active, .nav-subsection-link.active');
            activeLinks.forEach(link => {
                // Expand parent section
                let section = link.closest('.nav-section-content');
                if (section) {
                    section.classList.add('expanded');
                    section.previousElementSibling.classList.add('expanded');
                }
                
                // Expand parent subsection if exists
                let subsection = link.closest('.nav-subsection-content');
                if (subsection) {
                    subsection.classList.add('expanded');
                    subsection.previousElementSibling.classList.add('expanded');
                }
            });
        });
    </script>

    <script>
        // Wait for DOM to be ready
        document.addEventListener('DOMContentLoaded', function() {
            // Clone all section headers to remove any duplicate event listeners
            const sectionHeaders = document.querySelectorAll('.nav-section-header');
            sectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            // Clone all subsection headers
            const subsectionHeaders = document.querySelectorAll('.nav-subsection-header');
            subsectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            // Add click handlers to main section headers
            document.querySelectorAll('.nav-section-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Add click handlers to subsection headers
            document.querySelectorAll('.nav-subsection-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Auto-expand section containing active link
            const activeLink = document.querySelector('.nav-link.active, .nav-subsection-link.active');
            if (activeLink) {
                let parent = activeLink.parentElement;
                while (parent && !parent.classList.contains('sidebar')) {
                    if (parent.classList.contains('nav-section-content') || parent.classList.contains('nav-subsection-content')) {
                        parent.classList.add('expanded');
                        const header = parent.previousElementSibling;
                        if (header) {
                            header.classList.add('expanded');
                        }
                    }
                    parent = parent.parentElement;
                }
            }
        });
    </script>
</body>
</html>
