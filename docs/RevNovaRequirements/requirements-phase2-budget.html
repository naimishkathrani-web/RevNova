<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Phase 2 - Budget Calculator | RevNova Requirements</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; }
        .requirements-layout{display:flex;min-height:calc(100vh - 80px);margin-top:80px}
        .sidebar{width:280px;background:#f8f9fa;border-right:1px solid #e0e0e0;padding:2rem 0;position:fixed;left:0;top:80px;height:calc(100vh - 80px);overflow-y:auto;z-index:100}
        .sidebar h3{padding:0 1.5rem;font-size:0.85rem;color:#666;text-transform:uppercase;letter-spacing:0.5px;margin:1.5rem 0 0.5rem}
        .sidebar ul{list-style:none;padding:0;margin:0}
        .sidebar ul li a{display:block;padding:0.6rem 1.5rem;color:#333;text-decoration:none;font-size:0.95rem;transition:all 0.2s}
        .sidebar ul li a:hover{background:#e9ecef;color:#11998e}
        .sidebar ul li a.active{background:#11998e;color:#fff;font-weight:500}
        .sidebar ul ul li a{padding-left:2.5rem;font-size:0.9rem}
        .main-content{flex:1;margin-left:280px;padding:3rem;background:#fff;min-width:0}
        .page-header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:3rem;border-radius:12px;margin-bottom:3rem}
        .section-box{background:#fff;border:2px solid #e0e0e0;padding:2.5rem;margin:2rem 0;border-radius:12px}
        .section-box h3{color:#667eea;margin-top:0;border-bottom:2px solid #764ba2;padding-bottom:0.5rem}
        table{width:100%;border-collapse:collapse;margin:1.5rem 0}
        th,td{border:1px solid #ddd;padding:12px;text-align:left}
        th{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;font-weight:600;font-size:0.85rem}
        .badge-functional{background:#3498db;color:#fff;padding:0.3rem 0.6rem;border-radius:12px;font-size:0.75rem;font-weight:600}
        .badge-technical{background:#e74c3c;color:#fff;padding:0.3rem 0.6rem;border-radius:12px;font-size:0.75rem;font-weight:600}
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="nav-left">
                <a href="../index.html" class="logo"><div class="logo-box">RevNova</div></a>
                <nav class="main-nav">
                    <ul>
                        <li><a href="../about-revnova.html">About RevNova</a></li>
                        <li><a href="../features.html">Features</a></li>
                        <li><a href="../pricing.html">Pricing</a></li>
                        <li><a href="requirements-home.html" class="active">RevNova Requirements</a></li>
                        <li><a href="../contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
            <div class="header-right">
                <div class="country-selector"><span class="fi fi-us"></span></div>
                <a href="../login.html" class="btn btn-login">Login</a>
            </div>
        </div>
    </header>

    <div class="requirements-layout">
                <aside class="sidebar">
        <nav class="sidebar-nav">
            <!-- Platform Vision Section -->
            <div class="nav-section">
                <button class="nav-section-header">
                    <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M6 6L14 10L6 14V6Z"/>
                    </svg>
                    Platform Vision
                </button>
                <div class="nav-section-content">
                    <a href="requirements-home.html" class="nav-link">RevNova Vision & Strategy</a>
                    <a href="business-requirements.html" class="nav-link">High Level Business Requirements</a>
                    <a href="high-level-functional.html" class="nav-link">High Level Functional Design</a>
                </div>
            </div>
            
            <!-- Phase 1 Section -->
            <div class="nav-section">
                <button class="nav-section-header expanded">
                    <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M6 6L14 10L6 14V6Z"/>
                    </svg>
                    Phase 1 - SFDC CPQ â†’ RCA Migration (MVP)
                </button>
                <div class="nav-section-content expanded">
                    <!-- Functional Requirements Subsection -->
                    <div class="nav-subsection">
                        <button class="nav-subsection-header">
                            <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M6 6L14 10L6 14V6Z"/>
                            </svg>
                            Functional Requirements
                        </button>
                        <div class="nav-subsection-content">
                            <a href="requirements-phase1-connect.html" class="nav-subsection-link">1. Connection Wizard</a>
                            <a href="requirements-phase1-analyze.html" class="nav-subsection-link">2. Schema Analysis</a>
                            <a href="requirements-phase1-mapping.html" class="nav-subsection-link">3. Field Mapping</a>
                            <a href="requirements-phase1-transform.html" class="nav-subsection-link">4. Data Transformation</a>
                            <a href="requirements-phase1-validate.html" class="nav-subsection-link">5. Validation</a>
                            <a href="requirements-phase1-execute.html" class="nav-subsection-link">6. Migration Execution</a>
                            <a href="requirements-phase1-test.html" class="nav-subsection-link">7. Post-Migration Testing</a>
                        </div>
                    </div>
                    
                    <!-- Technical Requirements Subsection -->
                    <div class="nav-subsection">
                        <button class="nav-subsection-header">
                            <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M6 6L14 10L6 14V6Z"/>
                            </svg>
                            Technical Requirements
                        </button>
                        <div class="nav-subsection-content">
                            <a href="requirements-phase1-technical.html" class="nav-subsection-link">Migration Architecture</a>
                            <a href="requirements-phase1-technical.html#api" class="nav-subsection-link">API Specifications</a>
                            <a href="requirements-phase1-technical.html#database" class="nav-subsection-link">Database Schema</a>
                            <a href="requirements-phase1-technical.html#orchestration" class="nav-subsection-link">Orchestration Engine</a>
                        </div>
                    </div>
                    
                    <a href="requirements-mapping.html" class="nav-link">Complete Field Mapping</a>
                </div>
            </div>
            
            <!-- Phase 2 Section -->
            <div class="nav-section">
                <button class="nav-section-header">
                    <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M6 6L14 10L6 14V6Z"/>
                    </svg>
                    Phase 2 - AI Product Configuration
                </button>
                <div class="nav-section-content">
                    <a href="requirements-phase2-generate.html" class="nav-link">Generate with AI</a>
                    <a href="requirements-phase2-modify.html" class="nav-link">Modify with AI</a>
                    <a href="requirements-phase2-adopt.html" class="nav-link">Adopt AI Suggestions</a>
                    <a href="requirements-phase2-planning.html" class="nav-link">Planning Generators</a>
                    <a href="requirements-phase2-impact.html" class="nav-link">Impact Analyzer</a>
                    <a href="requirements-phase2-budget.html" class="nav-link">Budget Calculator</a>
                    <a href="requirements-phase2-technical.html" class="nav-link">Technical Requirements</a>
                </div>
            </div>
            
            <!-- Phase 3 Section -->
            <div class="nav-section">
                <button class="nav-section-header">
                    <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M6 6L14 10L6 14V6Z"/>
                    </svg>
                    Phase 3 - Multi-CPQ Support
                </button>
                <div class="nav-section-content">
                    <a href="requirements-phase3-functional.html" class="nav-link">Functional Requirements</a>
                    <a href="requirements-phase3-technical.html" class="nav-link">Technical Requirements</a>
                </div>
            </div>
            
            <!-- Phase 4 Section -->
            <div class="nav-section">
                <button class="nav-section-header">
                    <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M6 6L14 10L6 14V6Z"/>
                    </svg>
                    Phase 4 - CRM + CPQ Integration
                </button>
                <div class="nav-section-content">
                    <a href="requirements-phase4-functional.html" class="nav-link">Functional Requirements</a>
                    <a href="requirements-phase4-technical.html" class="nav-link">Technical Requirements</a>
                </div>
            </div>
            
            <!-- Phase 5 Section -->
            <div class="nav-section">
                <button class="nav-section-header">
                    <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M6 6L14 10L6 14V6Z"/>
                    </svg>
                    Phase 5 - ERP Integration
                </button>
                <div class="nav-section-content">
                    <a href="requirements-phase5-functional.html" class="nav-link">Functional Requirements</a>
                    <a href="requirements-phase5-technical.html" class="nav-link">Technical Requirements</a>
                </div>
            </div>
        </nav>
    </aside>

        <main class="main-content">
            <div class="page-header">
                <h1>ðŸ’° Budget Calculator - TCO & ROI Projection</h1>
                <p>Calculate development costs, go-to-market expenses, and long-term ROI for new products</p>
            </div>

            <section class="section-box">
                <h3><span class="badge-functional">Functional</span> Cost Components - Parametric Estimation</h3>
                <table>
                    <tr><th>Cost Category</th><th>AI-Estimated Inputs</th><th>Calculation Method</th></tr>
                    <tr>
                        <td><strong>Development Cost</strong></td>
                        <td>â€¢ Complexity score (1-10 based on # fields, integrations, custom logic)<br>â€¢ Estimated hours = Complexity Ã— 40 hours<br>â€¢ Hourly rate (user input, default $150/hr)</td>
                        <td><strong>Formula:</strong><br>Dev Cost = (Complexity Ã— 40) Ã— $150<br><br><strong>Example:</strong><br>Complexity 7 product â†’ 280 hours Ã— $150 = $42,000</td>
                    </tr>
                    <tr>
                        <td><strong>Marketing Cost</strong></td>
                        <td>â€¢ Target customer acquisition count (user input)<br>â€¢ CAC (Customer Acquisition Cost) benchmark by industry<br>â€¢ Channel mix (from Planning Tool output)</td>
                        <td><strong>Formula:</strong><br>Marketing Cost = (Target Customers) Ã— CAC<br><br><strong>Example:</strong><br>500 customers Ã— $200 CAC = $100,000</td>
                    </tr>
                    <tr>
                        <td><strong>Support Cost</strong></td>
                        <td>â€¢ Expected customer count (Year 1/2/3)<br>â€¢ Tickets per customer per month (industry avg: 0.5)<br>â€¢ Support agent cost (salary + overhead, default $60k/yr)</td>
                        <td><strong>Formula:</strong><br>FTE Needed = (Customers Ã— 0.5 tickets/mo) Ã· 100 tickets/agent<br>Support Cost = FTE Ã— $60k<br><br><strong>Example:</strong><br>1,000 customers â†’ 5 FTE â†’ $300k/yr</td>
                    </tr>
                    <tr>
                        <td><strong>Infrastructure Cost</strong></td>
                        <td>â€¢ User count (concurrent users)<br>â€¢ Storage needs (GB per user, default 1GB)<br>â€¢ Cloud provider (AWS, Azure, GCP) pricing API</td>
                        <td><strong>Formula:</strong><br>Compute: $0.10/user/month<br>Storage: $0.023/GB/month<br>CDN: $0.085/GB transfer<br><br><strong>Example:</strong><br>10,000 users, 1GB each â†’ $1,000/mo compute + $230/mo storage = $14,760/yr</td>
                    </tr>
                </table>
            </section>

            <section class="section-box">
                <h3><span class="badge-functional">Functional</span> Revenue Projection & ROI</h3>
                <table>
                    <tr><th>Metric</th><th>Calculation</th></tr>
                    <tr>
                        <td><strong>Year 1 Revenue</strong></td>
                        <td>â€¢ Launch month (user input, default Month 3)<br>â€¢ Ramp rate (% of target customers per month)<br>â€¢ ASP (Average Selling Price from product config)<br><br><strong>Example:</strong><br>Launch Month 3, 10% adoption/mo, $500 ASP, 500 target customers<br>â†’ Month 3: 50 customers Ã— $500 = $25k<br>â†’ Month 12: 500 customers Ã— $500 = $250k<br>â†’ Year 1 Total: $1.375M</td>
                    </tr>
                    <tr>
                        <td><strong>Year 2-3 Revenue</strong></td>
                        <td>â€¢ Growth rate (user input, default 50% YoY for SaaS)<br>â€¢ Churn rate (user input, default 10% annual)<br><br><strong>Example:</strong><br>Year 1: 500 customers Ã— $500 Ã— 12mo = $3M ARR<br>Year 2: (500 Ã— 1.5 - 50 churn) Ã— $500 Ã— 12 = $4.2M<br>Year 3: (700 Ã— 1.5 - 70 churn) Ã— $500 Ã— 12 = $5.88M</td>
                    </tr>
                    <tr>
                        <td><strong>ROI Calculation</strong></td>
                        <td><strong>3-Year ROI:</strong><br>Total Revenue (3yr): $13.08M<br>Total Costs (3yr): $1.5M (dev + marketing + support + infra)<br>Net Profit: $11.58M<br>ROI: (11.58 / 1.5) Ã— 100 = <strong>772%</strong><br><br><strong>Payback Period:</strong><br>Break-even when cumulative revenue > cumulative costs<br>Example: Month 8 (after $1.5M in revenue)</td>
                    </tr>
                </table>
            </section>

            <section class="section-box">
                <h3><span class="badge-functional">Functional</span> Sensitivity Analysis - Risk Scenarios</h3>
                <table>
                    <tr><th>Scenario</th><th>Assumptions Changed</th><th>Impact on ROI</th></tr>
                    <tr>
                        <td><strong>Best Case</strong></td>
                        <td>â€¢ 75% adoption rate (vs 50%)<br>â€¢ 5% churn (vs 10%)<br>â€¢ $600 ASP (vs $500)</td>
                        <td><strong>ROI: 1,250%</strong> (vs 772% base case)<br>Payback: Month 5 (vs Month 8)</td>
                    </tr>
                    <tr>
                        <td><strong>Worst Case</strong></td>
                        <td>â€¢ 25% adoption rate (vs 50%)<br>â€¢ 20% churn (vs 10%)<br>â€¢ $400 ASP (vs $500)</td>
                        <td><strong>ROI: 180%</strong> (vs 772% base case)<br>Payback: Month 18 (vs Month 8)</td>
                    </tr>
                    <tr>
                        <td><strong>Monte Carlo Simulation</strong></td>
                        <td>â€¢ Run 10,000 simulations with random variations in adoption, churn, ASP<br>â€¢ Generate probability distribution of ROI outcomes</td>
                        <td><strong>Output:</strong><br>â€¢ 90% confidence interval: [350%, 1,100%]<br>â€¢ Median ROI: 750%<br>â€¢ Probability of >500% ROI: 85%</td>
                    </tr>
                </table>
            </section>

            <section class="section-box">
                <h3><span class="badge-technical">Technical</span> Budget Calculation Engine</h3>
                <pre style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:8px;overflow-x:auto">
// Calculate 3-year budget projection
function calculateBudget(inputs: BudgetInputs): BudgetProjection {
    // Development Cost (one-time)
    const devCost = inputs.complexity * 40 * inputs.hourlyRate;
    
    // Marketing Cost (Year 1 heavy, then maintenance)
    const marketingCost = {
        year1: inputs.targetCustomers * inputs.cac,
        year2: inputs.targetCustomers * 0.3 * inputs.cac, // 30% of Year 1 for retention
        year3: inputs.targetCustomers * 0.2 * inputs.cac
    };
    
    // Support Cost (scales with customers)
    const calculateSupportCost = (customers: number) => {
        const ticketsPerMonth = customers * 0.5;
        const fteNeeded = Math.ceil(ticketsPerMonth / 100);
        return fteNeeded * 60000; // $60k per FTE
    };
    
    // Infrastructure Cost (scales with users)
    const calculateInfraCost = (users: number) => {
        const compute = users * 0.10 * 12; // $0.10/user/month
        const storage = users * 1 * 0.023 * 12; // 1GB per user
        return compute + storage;
    };
    
    // Revenue Projection
    const revenueProjection = projectRevenue(inputs);
    
    // Total Costs by Year
    const costs = {
        year1: devCost + marketingCost.year1 + calculateSupportCost(inputs.year1Customers) + calculateInfraCost(inputs.year1Users),
        year2: marketingCost.year2 + calculateSupportCost(inputs.year2Customers) + calculateInfraCost(inputs.year2Users),
        year3: marketingCost.year3 + calculateSupportCost(inputs.year3Customers) + calculateInfraCost(inputs.year3Users)
    };
    
    // ROI Calculation
    const totalRevenue = revenueProjection.year1 + revenueProjection.year2 + revenueProjection.year3;
    const totalCosts = costs.year1 + costs.year2 + costs.year3;
    const roi = ((totalRevenue - totalCosts) / totalCosts) * 100;
    
    return { costs, revenue: revenueProjection, roi };
}

// Monte Carlo Simulation for Risk Analysis
function runMonteCarloSimulation(baseInputs: BudgetInputs, iterations: number = 10000): ROIDistribution {
    const roiOutcomes: number[] = [];
    
    for (let i = 0; i < iterations; i++) {
        // Randomly vary key parameters within Â±30%
        const simulatedInputs = {
            ...baseInputs,
            targetCustomers: randomVariation(baseInputs.targetCustomers, 0.3),
            churnRate: randomVariation(baseInputs.churnRate, 0.3),
            asp: randomVariation(baseInputs.asp, 0.2)
        };
        
        const result = calculateBudget(simulatedInputs);
        roiOutcomes.push(result.roi);
    }
    
    return {
        median: percentile(roiOutcomes, 50),
        p10: percentile(roiOutcomes, 10),
        p90: percentile(roiOutcomes, 90),
        probabilityAbove500: roiOutcomes.filter(r => r > 500).length / iterations
    };
}
                </pre>
            </section>

            <section class="section-box">
                <h3><span class="badge-technical">Technical</span> Database Schema - Budget Scenarios</h3>
                <pre style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:8px;overflow-x:auto">
CREATE TABLE budget_scenarios (
    scenario_id UUID PRIMARY KEY,
    product_id UUID NOT NULL,
    scenario_type VARCHAR(50) NOT NULL, -- 'base', 'best', 'worst', 'monte_carlo'
    inputs JSONB NOT NULL, -- All calculation inputs
    projected_costs JSONB NOT NULL, -- Costs by year and category
    projected_revenue JSONB NOT NULL, -- Revenue by year
    roi_3yr NUMERIC(10,2),
    payback_months INTEGER,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE INDEX idx_budget_product ON budget_scenarios(product_id, scenario_type);
                </pre>
            </section>

            <section>
                <h2>Navigation</h2>
                <ul style="line-height:2">
                    <li><strong>Previous:</strong> <a href="requirements-phase2-impact.html">Page 5: System Impact Analyzer</a></li>
                    <li><strong>Next:</strong> <a href="requirements-phase2-technical.html">Technical Architecture</a></li>
                </ul>
            </section>
        </main>
    </div>
    <script>
        // Collapsible navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Handle section headers - single click toggle
            const sectionHeaders = document.querySelectorAll('.nav-section-header');
            sectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            document.querySelectorAll('.nav-section-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Handle subsection headers - single click toggle
            const subsectionHeaders = document.querySelectorAll('.nav-subsection-header');
            subsectionHeaders.forEach(header => {
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            document.querySelectorAll('.nav-subsection-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Auto-expand section containing active link
            const activeLinks = document.querySelectorAll('.nav-link.active, .nav-subsection-link.active');
            activeLinks.forEach(link => {
                // Expand parent section
                let section = link.closest('.nav-section-content');
                if (section) {
                    section.classList.add('expanded');
                    section.previousElementSibling.classList.add('expanded');
                }
                
                // Expand parent subsection if exists
                let subsection = link.closest('.nav-subsection-content');
                if (subsection) {
                    subsection.classList.add('expanded');
                    subsection.previousElementSibling.classList.add('expanded');
                }
            });
        });
    </script>
</body>
</html>
