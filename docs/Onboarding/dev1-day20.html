<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dev1 Day 20: Week 4 Testing & PR - RevNova Onboarding</title>
    <link rel="stylesheet" href="../styles.css">
        <style>
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; }
        
        .onboarding-layout {
            display: flex;
            min-height: calc(100vh - 80px);
            margin-top: 80px;
        }
        
        .sidebar {
            width: 280px;
            background: #f8f9fa;
            border-right: 1px solid #e0e0e0;
            padding: 2rem 0;
            position: fixed;
            left: 0;
            top: 80px;
            height: calc(100vh - 80px);
            overflow-y: auto;
            z-index: 100;
        }
        
        .sidebar h3 {
            padding: 0 1.5rem;
            font-size: 0.85rem;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin: 1.5rem 0 0.5rem;
        }
        
        .sidebar h3:first-child { margin-top: 0; }
        
        .sidebar ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .sidebar ul li a {
            display: block;
            padding: 0.6rem 1.5rem;
            color: #333;
            text-decoration: none;
            font-size: 0.95rem;
            transition: all 0.2s;
        }
        
        .sidebar ul li a:hover {
            background: #e9ecef;
            color: #11998e;
        }
        
        .sidebar ul li a.active {
            background: #667eea;
            color: #fff;
            font-weight: 500;
        }
        
        .sidebar ul ul {
            padding-left: 0;
        }
        
        .sidebar ul ul li a {
            padding-left: 2.5rem;
            font-size: 0.9rem;
        }
        
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 3rem;
            background: #fff;
            min-width: 0;
        }
        
        .day-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: #fff;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        
        .step-card {
            background: #fff;
            border: 1px solid #e0e0e0;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
                top: 0;
            }
            .main-content {
                margin-left: 0;
            }
            .onboarding-layout {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="nav-left">
                <a href="../index.html" class="logo"><div class="logo-box">RevNova</div></a>
                <nav class="main-nav">
                    <ul>
                        <li><a href="onboarding-home.html" class="active">Onboarding</a></li>
                        <li><a href="../about-revnova.html">About RevNova</a></li>
                        <li><a href="../features.html">Features</a></li>
                        <li><a href="../pricing.html">Pricing</a></li>
                        <li><a href="../RevNovaRequirements/requirements-home.html">RevNova Requirements</a></li>
                        <li><a href="../contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
            <div class="header-right">
                <div class="country-selector"><span class="fi fi-us"></span></div>
                <a href="../login.html" class="btn btn-login">Login</a>
            </div>
        </div>
    </header>

    <div class="onboarding-layout">
        <aside class="sidebar">
            <h3>Getting Started</h3>
            <ul>
                <li><a href="onboarding-home.html">Onboarding Home</a></li>
                <li><a href="onboarding-overview.html">Project Overview</a></li>
            </ul>
            
            <h3>Developer 1: Daily Tasks</h3>
            <ul>
                <li class="has-children"><span style="font-weight:600;color:#333;cursor:default;display:block;padding:0.6rem 0;">Week 1: Backend Setup</span>
                    <ul>
                        <li><a href="dev1-day01.html">Day 1</a></li>
                        <li><a href="dev1-day02.html">Day 2</a></li>
                        <li><a href="dev1-day03.html">Day 3</a></li>
                        <li><a href="dev1-day04.html">Day 4</a></li>
                        <li><a href="dev1-day05.html">Day 5</a></li>
                    </ul>
                </li>
                <li class="has-children"><span style="font-weight:600;color:#333;cursor:default;display:block;padding:0.6rem 0;">Week 2: Salesforce Integration</span>
                    <ul>
                        <li><a href="dev1-day06.html">Day 6</a></li>
                        <li><a href="dev1-day07.html">Day 7</a></li>
                        <li><a href="dev1-day08.html">Day 8</a></li>
                        <li><a href="dev1-day09.html">Day 9</a></li>
                        <li><a href="dev1-day10.html">Day 10</a></li>
                    </ul>
                </li>
                <li class="has-children"><span style="font-weight:600;color:#333;cursor:default;display:block;padding:0.6rem 0;">Week 3: Field Mapping API</span>
                    <ul>
                        <li><a href="dev1-day11.html">Day 11</a></li>
                        <li><a href="dev1-day12.html">Day 12</a></li>
                        <li><a href="dev1-day13.html">Day 13</a></li>
                        <li><a href="dev1-day14.html">Day 14</a></li>
                        <li><a href="dev1-day15.html">Day 15</a></li>
                    </ul>
                </li>
                <li class="has-children"><span style="font-weight:600;color:#333;cursor:default;display:block;padding:0.6rem 0;">Week 4: Transformation & Queue</span>
                    <ul>
                        <li><a href="dev1-day16.html">Day 16</a></li>
                        <li><a href="dev1-day17.html">Day 17</a></li>
                        <li><a href="dev1-day18.html">Day 18</a></li>
                        <li><a href="dev1-day19.html">Day 19</a></li>
                        <li><a href="dev1-day20.html">Day 20</a></li>
                    </ul>
                </li>
                <li class="has-children"><span style="font-weight:600;color:#333;cursor:default;display:block;padding:0.6rem 0;">Week 5: Execution & Testing</span>
                    <ul>
                        <li><a href="dev1-day21.html">Day 21</a></li>
                        <li><a href="dev1-day22.html">Day 22</a></li>
                        <li><a href="dev1-day23.html">Day 23</a></li>
                        <li><a href="dev1-day24.html">Day 24</a></li>
                        <li><a href="dev1-day25.html">Day 25</a></li>
                    </ul>
                </li>
            </ul>
        </aside>

        <main class="main-content">
        <div class="day-header"><h1>Day 20: Week 4 Testing & PR</h1><p>Developer 1 ‚Äî Backend & Database</p></div>

        <div class="step-card" style="background:#fffbea;border-left:4px solid #f59e0b;">
            <h2>‚ö†Ô∏è IMPORTANT: Start of Day Checklist</h2>
            <p><strong>Before starting today's work, run these commands:</strong></p>
            <div style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:6px;font-family:monospace;margin:1rem 0;">
cd C:\Dev\RevNovaRepository<br>
git pull origin main
            </div>
            <p>This ensures you have the latest code from your teammates. Always pull before starting work!</p>
        </div>

        <div class="step-card" style="background:#e0f2fe;border-left:4px solid #0284c7;">
            <h2>ü§ñ Copy This Prompt for Your GitHub Copilot</h2>
            <p><strong>Click the code block below, copy all text, and paste into GitHub Copilot Chat to get step-by-step guidance:</strong></p>
            <div style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:6px;font-family:monospace;margin:1rem 0;font-size:0.85rem;max-height:400px;overflow-y:auto;">
I'm working on Day 20 of the RevNova migration platform - Backend Developer track.<br><br>

**üéØ REVNOVA PLATFORM OVERVIEW:**<br>
RevNova is a SaaS platform that automates Salesforce CPQ ‚Üí Revenue Cloud migrations. It's a 7-step wizard that connects to Salesforce orgs, analyzes schemas, generates AI-powered field mappings (OpenAI GPT-4), and executes async ETL jobs to migrate data.<br><br>

**Tech Stack:** Node.js 20, Express, TypeScript, PostgreSQL 16, Redis 7, Bull queue, jsforce, OpenAI GPT-4 API<br><br>

**üìö DETAILED REQUIREMENTS:**<br>
Review these docs before starting:<br>
- docs/RevNovaRequirements/functional-requirements.html (API endpoints, user flows)<br>
- docs/RevNovaRequirements/technical-specifications.html (architecture, database schema)<br>
- docs/RevNovaRequirements/testing-strategy.html (unit/integration/E2E test patterns)<br><br>

**üèóÔ∏è MVP MILESTONE STATUS:**<br>
Week 4 completion day (target: Nov 30, 2025 - 19 days remaining). Testing and PR for transformation + ETL pipeline.<br>
- ‚úÖ Weeks 1-3: Backend API, frontend wizard, testing infrastructure complete<br>
- üîÑ Week 4 (current): Transformation engine, Bull queue, ETL pipeline implemented - TESTING TODAY<br>
- ‚è≥ Week 5 (next): Migration execution, reporting, production deployment<br><br>

**Context from Previous Days:**<br>
- Days 16-17: Built transformation engine with 6 types (Direct, ValueMap, Formula, Concatenate, Lookup, Date)<br>
- Day 18: Set up Bull queue with Redis for async job processing<br>
- Day 19: Implemented ETL pipeline (extract from Salesforce ‚Üí transform ‚Üí load to STG1)<br><br>

**Today's Goal:** Write comprehensive tests for transformation engine and ETL pipeline, create Week 4 PR<br><br>

**Tasks:**<br>
1. Write Jest unit tests for TransformService (all 6 transform types)<br>
2. Write integration tests for Bull queue job processing<br>
3. Write end-to-end ETL test with mock Salesforce data<br>
4. Create PR with detailed description of Week 4 work<br><br>

**Test Coverage Requirements:**<br>
- TransformService: Test each transform type with edge cases (null, empty, invalid)<br>
- ETLService: Test extract/transform/load with mocked jsforce and database<br>
- Migration Queue: Test job submission, status tracking, retry on failure<br>
- End-to-end: Submit job ‚Üí verify STG1 has transformed data<br><br>

**Acceptance Criteria:**<br>
- All tests pass: npm test (Jest shows 90%+ coverage)<br>
- Mock Salesforce queries (don't hit real API in tests)<br>
- Mock OpenAI API calls (use fixture responses)<br>
- Tests run in &lt;30 seconds<br>
- PR description includes: What changed, How to test, Test results screenshot<br><br>

**Testing Commands:**<br>
```bash<br>
cd backend<br>
npm test -- transformService.test.ts<br>
npm test -- etlService.test.ts<br>
npm test -- migrationQueue.test.ts<br>
npm test -- --coverage<br>
```<br><br>

Please guide me step-by-step through writing these tests and creating the PR. Show me test patterns for mocking external services.
            </div>
        </div>

<div class="step-card">
            <h2>üìã Objective</h2>
            <p>Test transformation API, queue processing, and ETL worker end-to-end. Create Week 4 PR.</p>
        </div>

        <div class="step-card">
            <h2>üß™ Step 1: Write TransformService Unit Tests</h2>
            <p>Create <code>backend/src/services/__tests__/transformService.test.ts</code>:</p>
            <div style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:6px;font-family:monospace;margin:1rem 0;font-size:0.85rem;">
import { TransformService } from '../transformService';<br>
import { DirectTransform, ValueMapTransform, FormulaTransform, ConcatenateTransform, DateTransform } from '../../types/transform.types';<br><br>

describe('TransformService', () => {<br>
&nbsp;&nbsp;const service = new TransformService();<br><br>

&nbsp;&nbsp;describe('Direct transform', () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;it('should copy source field to target', async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const transform: DirectTransform = { type: 'Direct', sourceField: 'Name', targetField: 'AccountName' };<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const result = await service.applyTransform({ Name: 'Acme Corp' }, transform);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expect(result).toBe('Acme Corp');<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;&nbsp;&nbsp;it('should return null for missing field', async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const transform: DirectTransform = { type: 'Direct', sourceField: 'Missing', targetField: 'Target' };<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const result = await service.applyTransform({}, transform);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expect(result).toBeNull();<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;describe('ValueMap transform', () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;it('should map value using mapping dictionary', async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const transform: ValueMapTransform = {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: 'ValueMap',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceField: 'Status',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetField: 'IsActive',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping: { 'Active': 'true', 'Inactive': 'false' },<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaultValue: 'unknown'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expect(await service.applyTransform({ Status: 'Active' }, transform)).toBe('true');<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expect(await service.applyTransform({ Status: 'Unknown' }, transform)).toBe('unknown');<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;describe('Concatenate transform', () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;it('should join multiple fields', async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const transform: ConcatenateTransform = {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: 'Concatenate',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceField: '',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceFields: ['FirstName', 'LastName'],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetField: 'FullName',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;separator: ' '<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const result = await service.applyTransform({ FirstName: 'John', LastName: 'Doe' }, transform);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expect(result).toBe('John Doe');<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;describe('Date transform', () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;it('should format date', async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const transform: DateTransform = {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: 'Date',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sourceField: 'CreatedDate',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;targetField: 'FormattedDate',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format: 'YYYY-MM-DD'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const result = await service.applyTransform({ CreatedDate: '2024-11-01T14:30:00Z' }, transform);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expect(result).toBe('2024-11-01');<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;});<br>
});
            </div>
        </div>

        <div class="step-card">
            <h2>üîß Step 2: Write ETL Integration Tests</h2>
            <p>Create <code>backend/src/services/__tests__/etlService.test.ts</code>:</p>
            <div style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:6px;font-family:monospace;margin:1rem 0;font-size:0.85rem;">
import { ETLService } from '../etlService';<br>
import { Connection } from '@jsforce/jsforce-node';<br>
import { pool } from '../../config/database';<br><br>

jest.mock('@jsforce/jsforce-node');<br>
jest.mock('../../config/redis');<br><br>

describe('ETLService', () => {<br>
&nbsp;&nbsp;const service = new ETLService();<br><br>

&nbsp;&nbsp;beforeEach(async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;// Clear test database<br>
&nbsp;&nbsp;&nbsp;&nbsp;await pool.query('DELETE FROM stg1_records');<br>
&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;describe('extractFromSalesforce', () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;it('should query Salesforce and return records', async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const mockQuery = jest.fn().mockResolvedValue({<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;records: [{ Id: '001', Name: 'Test Account' }]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Connection as jest.Mock).mockImplementation(() => ({<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query: mockQuery<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}));<br><br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const records = await service.extractFromSalesforce('conn-123', 'Account', 10);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expect(records).toHaveLength(1);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expect(mockQuery).toHaveBeenCalledWith('SELECT * FROM Account LIMIT 10');<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;describe('loadToStaging', () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;it('should insert records into STG1', async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const records = [<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ source_id: '001', AccountName: 'Acme Corp' },<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ source_id: '002', AccountName: 'Beta Inc' }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br><br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;await service.loadToStaging('migration_1', records);<br><br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const result = await pool.query('SELECT COUNT(*) FROM stg1_records WHERE migration_id = $1', ['migration_1']);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expect(parseInt(result.rows[0].count)).toBe(2);<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br>
&nbsp;&nbsp;});<br>
});
            </div>
        </div>

        <div class="step-card">
            <h2>‚öôÔ∏è Step 3: Test Bull Queue Processing</h2>
            <p>Create <code>backend/src/__tests__/migrationQueue.test.ts</code>:</p>
            <div style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:6px;font-family:monospace;margin:1rem 0;font-size:0.85rem;">
import { migrationQueue } from '../queues/migrationQueue';<br><br>

describe('Migration Queue', () => {<br>
&nbsp;&nbsp;afterAll(async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;await migrationQueue.close();<br>
&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;it('should add job to queue', async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;const job = await migrationQueue.add({<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mappingId: 'test-mapping',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connectionId: 'test-conn'<br>
&nbsp;&nbsp;&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;&nbsp;&nbsp;expect(job.id).toBeDefined();<br>
&nbsp;&nbsp;&nbsp;&nbsp;expect(job.data.mappingId).toBe('test-mapping');<br>
&nbsp;&nbsp;});<br><br>

&nbsp;&nbsp;it('should track job status', async () => {<br>
&nbsp;&nbsp;&nbsp;&nbsp;const job = await migrationQueue.add({ mappingId: 'test', connectionId: 'test' });<br>
&nbsp;&nbsp;&nbsp;&nbsp;const state = await job.getState();<br>
&nbsp;&nbsp;&nbsp;&nbsp;expect(['waiting', 'active', 'completed']).toContain(state);<br>
&nbsp;&nbsp;});<br>
});
            </div>
        </div>

        <div class="step-card">
            <h2>üöÄ Step 4: Run All Tests</h2>
            <div style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:6px;font-family:monospace;margin:1rem 0;">
cd backend<br><br>

# Run all tests<br>
npm test<br><br>

# Run with coverage<br>
npm test -- --coverage<br><br>

# Expected output:<br>
# Test Suites: 3 passed, 3 total<br>
# Tests: 10 passed, 10 total<br>
# Coverage: 90%+
            </div>
        </div>

        <div class="step-card">
            <h2>üìù Step 5: Create Week 4 Pull Request</h2>
            <div style="background:#2d2d2d;color:#f8f8f2;padding:1rem;border-radius:6px;font-family:monospace;margin:1rem 0;">
cd C:\Dev\RevNovaRepository<br><br>

# Create branch for Week 4<br>
git checkout -b feat/week4-transformation-etl<br><br>

# Add all changes<br>
git add .<br><br>

# Commit<br>
git commit -m "feat(backend): Week 4 - Transformation Engine + ETL Pipeline<br><br>

Implemented:<br>
- Transformation engine with 6 types (Direct, ValueMap, Formula, Concatenate, Lookup, Date)<br>
- Bull queue for async job processing<br>
- ETL pipeline (extract from Salesforce, transform, load to STG1)<br>
- Comprehensive test coverage (90%+)<br><br>

API Endpoints:<br>
- POST /api/transform/preview - Preview transformations<br>
- POST /api/jobs - Submit ETL job<br>
- GET /api/jobs/:jobId - Get job status<br><br>

Testing:<br>
- Unit tests for all transform types<br>
- Integration tests for ETL service<br>
- Queue processing tests<br>
"<br><br>

# Push branch<br>
git push origin feat/week4-transformation-etl<br><br>

# Create PR on GitHub with description above
            </div>
        </div>

        <div class="step-card">
            <h2>‚úÖ End of Day 20 Checklist</h2>
            <ul>
                <li>‚úÖ TransformService tests pass (all 6 transform types + edge cases)</li>
                <li>‚úÖ ETLService tests pass (extract, transform, load)</li>
                <li>‚úÖ Migration queue tests pass (job submission, status tracking)</li>
                <li>‚úÖ Test coverage ‚â• 90% (<code>npm test -- --coverage</code>)</li>
                <li>‚úÖ All tests run in &lt;30 seconds</li>
                <li>‚úÖ External services mocked (jsforce, OpenAI, Redis)</li>
                <li>‚úÖ Pull request created with detailed description</li>
                <li>‚úÖ PR includes: What changed, How to test, Test results</li>
                <li>‚úÖ All Week 4 work committed: <code>feat(backend): Week 4 - Transformation Engine + ETL Pipeline</code></li>
            </ul>
        </div>
        <div class="nav-buttons"><a href="dev1-day19.html" class="nav-btn back">‚Üê Back to Day 19</a><a href="dev1-day21.html" class="nav-btn next">Next: Day 21 ‚Üí</a></div>
            </main>
    </div>
    <script src="../script.js"></script>
</body>
</html>
