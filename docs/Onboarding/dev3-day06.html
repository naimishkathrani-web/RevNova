<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 6: Unit Testing Setup - RevNova Developer Onboarding</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Salesforce Sans', Arial, sans-serif;
            font-size: 14px;
            line-height: 1.6;
            color: #181818;
            background: #fff;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 0 2rem;
            height: 60px;
            display: flex;
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        header h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        /* Layout */
        .page-container {
            display: flex;
            margin-top: 60px;
            min-height: calc(100vh - 60px);
        }
        
        /* Sidebar - Salesforce Style */
        .sidebar {
            width: 280px;
            background: #f4f6f9;
            border-right: 1px solid #c9c9c9;
            position: fixed;
            left: 0;
            top: 60px;
            bottom: 0;
            overflow-y: auto;
            z-index: 100;
        }
        
        .sidebar::-webkit-scrollbar {
            width: 8px;
        }
        
        .sidebar::-webkit-scrollbar-track {
            background: #f4f6f9;
        }
        
        .sidebar::-webkit-scrollbar-thumb {
            background: #c9c9c9;
            border-radius: 4px;
        }
        
        .sidebar::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        /* Sidebar Navigation */
        .sidebar-nav {
            padding: 1rem 0;
        }
        
        .nav-section {
            margin-bottom: 0.25rem;
        }
        
        .nav-section-header {
            display: flex;
            align-items: center;
            padding: 0.5rem 1rem;
            font-size: 13px;
            font-weight: 600;
            color: #181818;
            background: none;
            border: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            transition: background 0.15s;
        }
        
        .nav-section-header:hover {
            background: #e5e5e5;
        }
        
        .nav-section-header.expanded {
            background: #e5e5e5;
        }
        
        .nav-section-icon {
            width: 16px;
            height: 16px;
            margin-right: 0.5rem;
            transition: transform 0.2s;
            flex-shrink: 0;
        }
        
        .nav-section-header.expanded .nav-section-icon {
            transform: rotate(90deg);
        }
        
        .nav-section-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .nav-section-content.expanded {
            max-height: 2000px;
        }
        
        .nav-link {
            display: block;
            padding: 0.5rem 1rem 0.5rem 2.5rem;
            color: #006dcc;
            text-decoration: none;
            font-size: 13px;
            transition: background 0.15s;
        }
        
        .nav-link:hover {
            background: #e5e5e5;
            text-decoration: underline;
        }
        
        .nav-link.active {
            background: #1589ee;
            color: #fff;
            font-weight: 600;
        }
        
        .nav-link.active:hover {
            background: #0b5cab;
            text-decoration: none;
        }
        
        /* Subsection (weeks) */
        .nav-subsection {
            margin: 0.25rem 0;
        }
        
        .nav-subsection-header {
            display: flex;
            align-items: center;
            padding: 0.5rem 1rem 0.5rem 2.5rem;
            font-size: 13px;
            font-weight: 500;
            color: #181818;
            background: none;
            border: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            transition: background 0.15s;
        }
        
        .nav-subsection-header:hover {
            background: #e5e5e5;
        }
        
        .nav-subsection-header.expanded {
            background: #e5e5e5;
        }
        
        .nav-subsection-icon {
            width: 12px;
            height: 12px;
            margin-right: 0.5rem;
            transition: transform 0.2s;
            flex-shrink: 0;
        }
        
        .nav-subsection-header.expanded .nav-subsection-icon {
            transform: rotate(90deg);
        }
        
        .nav-subsection-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .nav-subsection-content.expanded {
            max-height: 1000px;
        }
        
        .nav-subsection-link {
            display: block;
            padding: 0.4rem 1rem 0.4rem 3.5rem;
            color: #006dcc;
            text-decoration: none;
            font-size: 13px;
            transition: background 0.15s;
        }
        
        .nav-subsection-link:hover {
            background: #e5e5e5;
            text-decoration: underline;
        }
        
        .nav-subsection-link.active {
            background: #1589ee;
            color: #fff;
            font-weight: 600;
        }
        
        .nav-subsection-link.active:hover {
            background: #0b5cab;
            text-decoration: none;
        }
        
        /* Main Content */
        .main-content {
            margin-left: 280px;
            padding: 2rem 3rem;
            width: calc(100% - 280px);
            max-width: calc(1200px + 280px);
            box-sizing: border-box;
        }
        
        .breadcrumb {
            font-size: 12px;
            color: #706e6b;
            margin-bottom: 1rem;
        }
        
        .breadcrumb a {
            color: #006dcc;
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        .page-title {
            font-size: 2rem;
            font-weight: 300;
            color: #181818;
            margin-bottom: 0.5rem;
        }
        
        .page-subtitle {
            font-size: 1rem;
            color: #706e6b;
            margin-bottom: 2rem;
        }
        
        .content-section {
            margin-bottom: 2rem;
            background: #fff;
            border: 1px solid #c9c9c9;
            border-radius: 4px;
            padding: 1.5rem;
        }
        
        .content-section h2 {
            font-size: 1.5rem;
            font-weight: 400;
            color: #181818;
            margin-bottom: 1rem;
        }
        
        .content-section h3 {
            font-size: 1.2rem;
            font-weight: 400;
            color: #181818;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        
        .content-section p {
            margin-bottom: 1rem;
            line-height: 1.7;
        }
        
        .content-section ul,
        .content-section ol {
            margin-bottom: 1rem;
            padding-left: 2rem;
        }
        
        .content-section li {
            margin-bottom: 0.5rem;
        }
        
        code {
            background: #f4f6f9;
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
            font-family: 'Courier New', Consolas, monospace;
            font-size: 0.9em;
            color: #c7254e;
        }
        
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        pre code {
            background: none;
            padding: 0;
            color: inherit;
            font-size: 0.85em;
        }
        
        .info-box {
            background: #f0f9ff;
            border-left: 4px solid #1589ee;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .warning-box {
            background: #fffbf0;
            border-left: 4px solid #ffb75d;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .success-box {
            background: #f0fff4;
            border-left: 4px solid #45c65a;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 4px;
        }

        /* GitHub Copilot Prompt Box */
        .copilot-prompt {
            background: #f3f2ff;
            border-left: 4px solid #8b5cf6;
            padding: 1rem;
            margin: 1rem 0 1.5rem 0;
            border-radius: 4px;
        }
        
        .copilot-prompt h3 {
            font-size: 0.95rem;
            font-weight: 600;
            color: #6d28d9;
            margin-bottom: 0.5rem;
        }
        
        .copilot-prompt pre {
            background: #ffffff;
            border: 1px solid #e0e7ff;
            margin: 0;
        }
        
        .copilot-prompt code {
            color: #6d28d9;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid #c9c9c9;
        }
        
        .btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: #0176d3;
            color: #fff;
            text-decoration: none;
            border-radius: 4px;
            font-size: 14px;
            font-weight: 500;
            transition: background 0.15s;
        }
        
        .btn:hover {
            background: #014486;
        }
        
        .btn-secondary {
            background: #f4f6f9;
            color: #0176d3;
            border: 1px solid #c9c9c9;
        }
        
        .btn-secondary:hover {
            background: #e5e5e5;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                position: relative;
                top: 0;
                border-right: none;
                border-bottom: 1px solid #c9c9c9;
            }
            
            .main-content {
                margin-left: 0;
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>RevNova Developer Onboarding</h1>
    </header>
    
    <div class="page-container">
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <!-- Getting Started Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Getting Started
                    </button>
                    <div class="nav-section-content">
                        <a href="onboarding-home.html" class="nav-link">Onboarding Home</a>
                        <a href="onboarding-overview.html" class="nav-link">Project Overview</a>
                        <a href="manual-repo-setup.html" class="nav-link">Manual Repository Setup</a>
                        <a href="repo-setup-guide.html" class="nav-link">Automated Setup Guide</a>
                    </div>
                </div>
                
                <!-- Developer Guides Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Developer Guides
                    </button>
                    <div class="nav-section-content">
                        <a href="onboarding-dev1.html" class="nav-link">Developer 1: Backend & Database</a>
                        <a href="onboarding-dev2.html" class="nav-link">Developer 2: Frontend & React</a>
                        <a href="onboarding-dev3.html" class="nav-link">Developer 3: DevOps & QA</a>
                    </div>
                </div>
                
                <!-- Developer 1: Daily Tasks Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Developer 1: Daily Tasks
                    </button>
                    <div class="nav-section-content">
                        <!-- Week 1 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 1: Backend Setup
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev1-day01.html" class="nav-subsection-link">Day 1: Workstation Setup</a>
                                <a href="dev1-day02.html" class="nav-subsection-link">Day 2: Database Tables (STG1)</a>
                                <a href="dev1-day03.html" class="nav-subsection-link">Day 3: Database Tables (STG2)</a>
                                <a href="dev1-day04.html" class="nav-subsection-link">Day 4: Database Tables (EAV)</a>
                                <a href="dev1-day05.html" class="nav-subsection-link">Day 5: First API Endpoint</a>
                            </div>
                        </div>
                        
                        <!-- Week 2 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 2: Schema Analysis APIs
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev1-day06.html" class="nav-subsection-link">Day 6: Schema Analysis API (Part 1)</a>
                                <a href="dev1-day07.html" class="nav-subsection-link">Day 7: Schema Analysis API (Part 2)</a>
                                <a href="dev1-day08.html" class="nav-subsection-link">Day 8: Metadata Extraction</a>
                                <a href="dev1-day09.html" class="nav-subsection-link">Day 9: Relationship Detection</a>
                                <a href="dev1-day10.html" class="nav-subsection-link">Day 10: Week 2 Testing & PR</a>
                            </div>
                        </div>
                        
                        <!-- Week 3 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 3: Field Mapping & AI
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev1-day11.html" class="nav-subsection-link">Day 11: Field Mapping API (Part 1)</a>
                                <a href="dev1-day12.html" class="nav-subsection-link">Day 12: Field Mapping API (Part 2)</a>
                                <a href="dev1-day13.html" class="nav-subsection-link">Day 13: AI Integration Setup</a>
                                <a href="dev1-day14.html" class="nav-subsection-link">Day 14: Confidence Scoring</a>
                                <a href="dev1-day15.html" class="nav-subsection-link">Day 15: Week 3 Testing & PR</a>
                            </div>
                        </div>
                        
                        <!-- Week 4 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 4: Transformation & Queue
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev1-day16.html" class="nav-subsection-link">Day 16: Data Transformation Engine</a>
                                <a href="dev1-day17.html" class="nav-subsection-link">Day 17: Queue System Setup</a>
                                <a href="dev1-day18.html" class="nav-subsection-link">Day 18: Job Management</a>
                                <a href="dev1-day19.html" class="nav-subsection-link">Day 19: Error Handling</a>
                                <a href="dev1-day20.html" class="nav-subsection-link">Day 20: Week 4 Testing & PR</a>
                            </div>
                        </div>
                        
                        <!-- Week 5 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 5: Execution & Testing
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev1-day21.html" class="nav-subsection-link">Day 21: Migration Execution</a>
                                <a href="dev1-day22.html" class="nav-subsection-link">Day 22: Validation & Rollback</a>
                                <a href="dev1-day23.html" class="nav-subsection-link">Day 23: Performance Optimization</a>
                                <a href="dev1-day24.html" class="nav-subsection-link">Day 24: Integration Testing</a>
                                <a href="dev1-day25.html" class="nav-subsection-link">Day 25: Final Review & Handoff</a>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                <!-- Developer 2: Daily Tasks Section -->
                <div class="nav-section">
                    <button class="nav-section-header">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Developer 2: Daily Tasks
                    </button>
                    <div class="nav-section-content">
                        <!-- Week 1 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 1: React Setup
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev2-day01.html" class="nav-subsection-link">Day 1: React & Vite Setup</a>
                                <a href="dev2-day02.html" class="nav-subsection-link">Day 2: Project Structure</a>
                                <a href="dev2-day03.html" class="nav-subsection-link">Day 3: Routing & Navigation</a>
                                <a href="dev2-day04.html" class="nav-subsection-link">Day 4: State Management</a>
                                <a href="dev2-day05.html" class="nav-subsection-link">Day 5: UI Component Library</a>
                            </div>
                        </div>
                        
                        <!-- Week 2 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 2: Core Pages
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev2-day06.html" class="nav-subsection-link">Day 6: Dashboard Page</a>
                                <a href="dev2-day07.html" class="nav-subsection-link">Day 7: Project Creation</a>
                                <a href="dev2-day08.html" class="nav-subsection-link">Day 8: Connection Setup UI</a>
                                <a href="dev2-day09.html" class="nav-subsection-link">Day 9: Schema Analysis UI</a>
                                <a href="dev2-day10.html" class="nav-subsection-link">Day 10: Week 2 Testing & PR</a>
                            </div>
                        </div>
                        
                        <!-- Week 3 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 3: Mapping Interface
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev2-day11.html" class="nav-subsection-link">Day 11: Field Mapping UI (Part 1)</a>
                                <a href="dev2-day12.html" class="nav-subsection-link">Day 12: Field Mapping UI (Part 2)</a>
                                <a href="dev2-day13.html" class="nav-subsection-link">Day 13: Drag & Drop Interface</a>
                                <a href="dev2-day14.html" class="nav-subsection-link">Day 14: AI Suggestions UI</a>
                                <a href="dev2-day15.html" class="nav-subsection-link">Day 15: Week 3 Testing & PR</a>
                            </div>
                        </div>
                        
                        <!-- Week 4 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 4: Transformation UI
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev2-day16.html" class="nav-subsection-link">Day 16: Transformation Rules UI</a>
                                <a href="dev2-day17.html" class="nav-subsection-link">Day 17: Preview & Validation</a>
                                <a href="dev2-day18.html" class="nav-subsection-link">Day 18: Queue Status Dashboard</a>
                                <a href="dev2-day19.html" class="nav-subsection-link">Day 19: Error Display & Retry</a>
                                <a href="dev2-day20.html" class="nav-subsection-link">Day 20: Week 4 Testing & PR</a>
                            </div>
                        </div>
                        
                        <!-- Week 5 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 5: Testing & Polish
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev2-day21.html" class="nav-subsection-link">Day 21: Execution Progress UI</a>
                                <a href="dev2-day22.html" class="nav-subsection-link">Day 22: Results & Reports</a>
                                <a href="dev2-day23.html" class="nav-subsection-link">Day 23: Responsive Design</a>
                                <a href="dev2-day24.html" class="nav-subsection-link">Day 24: E2E Testing</a>
                                <a href="dev2-day25.html" class="nav-subsection-link">Day 25: Final Polish & Handoff</a>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                <!-- Developer 3: Daily Tasks Section -->
                <div class="nav-section">
                    <button class="nav-section-header expanded">
                        <svg class="nav-section-icon" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M6 6L14 10L6 14V6Z"/>
                        </svg>
                        Developer 3: Daily Tasks
                    </button>
                    <div class="nav-section-content" expanded>
                        <!-- Week 1 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 1: DevOps Setup
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev3-day01.html" class="nav-subsection-link">Day 1: AWS & Infrastructure</a>
                                <a href="dev3-day02.html" class="nav-subsection-link">Day 2: Docker Setup</a>
                                <a href="dev3-day03.html" class="nav-subsection-link">Day 3: CI/CD Pipeline</a>
                                <a href="dev3-day04.html" class="nav-subsection-link">Day 4: Monitoring Setup</a>
                                <a href="dev3-day05.html" class="nav-subsection-link">Day 5: Security Configuration</a>
                            </div>
                        </div>
                        
                        <!-- Week 2 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header expanded">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 2: Testing Framework
                            </button>
                            <div class="nav-subsection-content" expanded>
                                <a href="dev3-day06.html" class="nav-subsection-link active">Day 6: Unit Testing Setup</a>
                                <a href="dev3-day07.html" class="nav-subsection-link">Day 7: Backend Tests</a>
                                <a href="dev3-day08.html" class="nav-subsection-link">Day 8: Integration Tests</a>
                                <a href="dev3-day09.html" class="nav-subsection-link">Day 9: API Tests</a>
                                <a href="dev3-day10.html" class="nav-subsection-link">Day 10: Week 2 Testing & PR</a>
                            </div>
                        </div>
                        
                        <!-- Week 3 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 3: QA & Testing
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev3-day11.html" class="nav-subsection-link">Day 11: Frontend Testing</a>
                                <a href="dev3-day12.html" class="nav-subsection-link">Day 12: E2E Test Setup</a>
                                <a href="dev3-day13.html" class="nav-subsection-link">Day 13: Test Automation</a>
                                <a href="dev3-day14.html" class="nav-subsection-link">Day 14: Load Testing</a>
                                <a href="dev3-day15.html" class="nav-subsection-link">Day 15: Week 3 Testing & PR</a>
                            </div>
                        </div>
                        
                        <!-- Week 4 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 4: Performance
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev3-day16.html" class="nav-subsection-link">Day 16: Performance Monitoring</a>
                                <a href="dev3-day17.html" class="nav-subsection-link">Day 17: Database Optimization</a>
                                <a href="dev3-day18.html" class="nav-subsection-link">Day 18: Caching Strategy</a>
                                <a href="dev3-day19.html" class="nav-subsection-link">Day 19: Load Balancing</a>
                                <a href="dev3-day20.html" class="nav-subsection-link">Day 20: Week 4 Testing & PR</a>
                            </div>
                        </div>
                        
                        <!-- Week 5 Subsection -->
                        <div class="nav-subsection">
                            <button class="nav-subsection-header">
                                <svg class="nav-subsection-icon" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M6 6L14 10L6 14V6Z"/>
                                </svg>
                                Week 5: Production
                            </button>
                            <div class="nav-subsection-content">
                                <a href="dev3-day21.html" class="nav-subsection-link">Day 21: Production Deployment</a>
                                <a href="dev3-day22.html" class="nav-subsection-link">Day 22: Backup & Recovery</a>
                                <a href="dev3-day23.html" class="nav-subsection-link">Day 23: Documentation</a>
                                <a href="dev3-day24.html" class="nav-subsection-link">Day 24: Final QA</a>
                                <a href="dev3-day25.html" class="nav-subsection-link">Day 25: Production Handoff</a>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
            </nav>
        </aside>
        
        <main class="main-content">
            <div class="breadcrumb">
                <a href="onboarding-home.html">Home</a> ‚Ä∫ 
                <a href="onboarding-dev1.html">Developer 1</a> ‚Ä∫ Week 2 ‚Ä∫ Day 7
            </div>
            
            <h1 class="page-title">Day 6: Salesforce Connection Integration Tests</h1>
            <p class="page-subtitle">Developer 3: Testing & DevOps | Duration: ~6-8 hours</p>
            
            <div class="content-section">
                <h2>üìã Objective</h2>
                <p>Create comprehensive integration tests for the Salesforce connection functionality. Verify backend API endpoints, database operations, and end-to-end connection workflows.</p>
                
                <p><strong>Test Coverage Goals:</strong></p>
                <ul>
                    <li>Backend API endpoint testing (connections CRUD operations)</li>
                    <li>Salesforce connection helper integration tests</li>
                    <li>Database persistence and encryption validation</li>
                    <li>Error handling and validation tests</li>
                    <li>End-to-end connection workflow tests</li>
                </ul>
            </div>
            
            <div class="content-section">
                <h2>üì¶ Step 1: Set Up Test Environment</h2>
                <div class="copilot-prompt">
                    <h3>üí¨ GitHub Copilot Prompt:</h3>
                    <pre><code># Create Salesforce connection test plan
# Document required credentials
# List test scenarios: valid, invalid, network error</code></pre>
                </div>
                <p>Install testing dependencies and configure test database:</p>
                <pre><code>cd backend
npm install --save-dev supertest @types/supertest nock</code></pre>
                
                <p>Create test environment configuration:</p>
                <p><strong>File:</strong> <code>backend/src/config/test-db.ts</code></p>
                <pre><code>import { Pool } from 'pg';

export const createTestPool = () => {
  return new Pool({
    host: process.env.TEST_DB_HOST || 'localhost',
    port: parseInt(process.env.TEST_DB_PORT || '5432'),
    database: process.env.TEST_DB_NAME || 'revnova_test',
    user: process.env.TEST_DB_USER || 'postgres',
    password: process.env.TEST_DB_PASSWORD || 'postgres'
  });
};

export const cleanupTestDatabase = async (pool: Pool) => {
  // Truncate all tables
  await pool.query('TRUNCATE TABLE salesforce_connections CASCADE');
  await pool.query('TRUNCATE TABLE projects CASCADE');
};

export const seedTestData = async (pool: Pool) => {
  // Insert test project
  const projectResult = await pool.query(
    `INSERT INTO projects (name, description, created_at)
     VALUES ($1, $2, NOW())
     RETURNING id`,
    ['Test Project', 'Test project for integration tests']
  );
  return { projectId: projectResult.rows[0].id };
};</code></pre>
            </div>
            
            <div class="content-section">
                <h2>üß™ Step 2: Test Connections API Endpoints</h2>
                <div class="copilot-prompt">
                    <h3>üí¨ GitHub Copilot Prompt:</h3>
                    <pre><code># Test jsforce connection with sandbox credentials
# Verify login succeeds
# Check access token returned
# Test describeGlobal() call works</code></pre>
                </div>
                <p>Create integration tests for all connection endpoints:</p>
                <p><strong>File:</strong> <code>backend/src/__tests__/connections.integration.test.ts</code></p>
                <pre><code>import request from 'supertest';
import app from '../app';
import { createTestPool, cleanupTestDatabase, seedTestData } from '../config/test-db';
import nock from 'nock';

describe('Connections API Integration Tests', () => {
  let pool: any;
  let projectId: number;

  beforeAll(async () => {
    pool = createTestPool();
    const testData = await seedTestData(pool);
    projectId = testData.projectId;
  });

  afterAll(async () => {
    await cleanupTestDatabase(pool);
    await pool.end();
  });

  afterEach(() => {
    nock.cleanAll();
  });

  describe('POST /api/v1/connections', () => {
    it('should create a new Salesforce connection with valid credentials', async () => {
      // Mock Salesforce login
      nock('https://login.salesforce.com')
        .post('/services/oauth2/token')
        .reply(200, {
          access_token: 'test_token_123',
          instance_url: 'https://test.salesforce.com',
          id: 'https://login.salesforce.com/id/00D000000000001/005000000000001'
        });

      const response = await request(app)
        .post('/api/v1/connections')
        .send({
          name: 'Test Production Org',
          username: 'test@example.com',
          password: 'testpass123',
          securityToken: 'testtoken123',
          environment: 'production'
        });

      expect(response.status).toBe(201);
      expect(response.body).toHaveProperty('id');
      expect(response.body.name).toBe('Test Production Org');
      expect(response.body.username).toBe('test@example.com');
      expect(response.body.environment).toBe('production');
      expect(response.body).not.toHaveProperty('password');
      expect(response.body).not.toHaveProperty('securityToken');
    });

    it('should reject connection with invalid credentials', async () => {
      // Mock Salesforce login failure
      nock('https://login.salesforce.com')
        .post('/services/oauth2/token')
        .reply(401, {
          error: 'invalid_grant',
          error_description: 'authentication failure'
        });

      const response = await request(app)
        .post('/api/v1/connections')
        .send({
          name: 'Invalid Org',
          username: 'invalid@example.com',
          password: 'wrongpass',
          securityToken: 'wrongtoken',
          environment: 'production'
        });

      expect(response.status).toBe(400);
      expect(response.body).toHaveProperty('error');
    });

    it('should validate required fields', async () => {
      const response = await request(app)
        .post('/api/v1/connections')
        .send({
          name: 'Incomplete Org'
          // Missing username, password, securityToken, environment
        });

      expect(response.status).toBe(400);
      expect(response.body.error).toMatch(/required/i);
    });

    it('should encrypt password and security token before storing', async () => {
      nock('https://login.salesforce.com')
        .post('/services/oauth2/token')
        .reply(200, {
          access_token: 'test_token_456',
          instance_url: 'https://test.salesforce.com',
          id: 'https://login.salesforce.com/id/00D000000000001/005000000000002'
        });

      const response = await request(app)
        .post('/api/v1/connections')
        .send({
          name: 'Encryption Test Org',
          username: 'encrypt@example.com',
          password: 'plainpassword',
          securityToken: 'plaintoken',
          environment: 'sandbox'
        });

      expect(response.status).toBe(201);

      // Query database directly to verify encryption
      const dbResult = await pool.query(
        'SELECT encrypted_password, password_iv FROM salesforce_connections WHERE id = $1',
        [response.body.id]
      );

      // Encrypted values should not match plain text
      expect(dbResult.rows[0].encrypted_password).not.toBe('plainpassword');
      expect(dbResult.rows[0].password_iv).toBeTruthy();
    });
  });

  describe('GET /api/v1/connections', () => {
    beforeEach(async () => {
      // Seed test connections
      nock('https://login.salesforce.com')
        .post('/services/oauth2/token')
        .times(2)
        .reply(200, {
          access_token: 'test_token',
          instance_url: 'https://test.salesforce.com',
          id: 'https://login.salesforce.com/id/00D000000000001/005000000000003'
        });

      await request(app)
        .post('/api/v1/connections')
        .send({
          name: 'List Test Org 1',
          username: 'list1@example.com',
          password: 'pass1',
          securityToken: 'token1',
          environment: 'production'
        });

      await request(app)
        .post('/api/v1/connections')
        .send({
          name: 'List Test Org 2',
          username: 'list2@example.com',
          password: 'pass2',
          securityToken: 'token2',
          environment: 'sandbox'
        });
    });

    it('should return all connections without sensitive data', async () => {
      const response = await request(app)
        .get('/api/v1/connections');

      expect(response.status).toBe(200);
      expect(response.body).toHaveProperty('connections');
      expect(Array.isArray(response.body.connections)).toBe(true);
      expect(response.body.connections.length).toBeGreaterThanOrEqual(2);

      // Verify no sensitive data in response
      response.body.connections.forEach((conn: any) => {
        expect(conn).not.toHaveProperty('password');
        expect(conn).not.toHaveProperty('securityToken');
        expect(conn).not.toHaveProperty('encrypted_password');
        expect(conn).toHaveProperty('name');
        expect(conn).toHaveProperty('username');
        expect(conn).toHaveProperty('environment');
      });
    });
  });

  describe('POST /api/v1/connections/:id/test', () => {
    let connectionId: string;

    beforeEach(async () => {
      nock('https://login.salesforce.com')
        .post('/services/oauth2/token')
        .reply(200, {
          access_token: 'test_token',
          instance_url: 'https://test.salesforce.com',
          id: 'https://login.salesforce.com/id/00D000000000001/005000000000004'
        });

      const createResponse = await request(app)
        .post('/api/v1/connections')
        .send({
          name: 'Test Connection Org',
          username: 'testconn@example.com',
          password: 'testpass',
          securityToken: 'testtoken',
          environment: 'production'
        });

      connectionId = createResponse.body.id;
    });

    it('should successfully test existing connection', async () => {
      // Mock Salesforce identity API
      nock('https://test.salesforce.com')
        .get(/\/services\/oauth2\/userinfo/)
        .reply(200, {
          user_id: '005000000000004',
          organization_id: '00D000000000001',
          email: 'testconn@example.com'
        });

      nock('https://login.salesforce.com')
        .post('/services/oauth2/token')
        .reply(200, {
          access_token: 'test_token_refresh',
          instance_url: 'https://test.salesforce.com',
          id: 'https://login.salesforce.com/id/00D000000000001/005000000000004'
        });

      const response = await request(app)
        .post(`/api/v1/connections/${connectionId}/test`);

      expect(response.status).toBe(200);
      expect(response.body).toHaveProperty('success', true);
      expect(response.body).toHaveProperty('organizationId');
      expect(response.body).toHaveProperty('userId');
    });

    it('should return error for non-existent connection', async () => {
      const response = await request(app)
        .post('/api/v1/connections/99999/test');

      expect(response.status).toBe(404);
      expect(response.body).toHaveProperty('error');
    });

    it('should handle Salesforce API errors gracefully', async () => {
      nock('https://login.salesforce.com')
        .post('/services/oauth2/token')
        .reply(401, {
          error: 'invalid_grant',
          error_description: 'expired password'
        });

      const response = await request(app)
        .post(`/api/v1/connections/${connectionId}/test`);

      expect(response.status).toBe(400);
      expect(response.body).toHaveProperty('error');
      expect(response.body.error).toMatch(/expired password/i);
    });
  });
});</code></pre>
            </div>
            
            <div class="content-section">
                <h2>üîê Step 3: Test Encryption and Decryption</h2>
                <div class="copilot-prompt">
                    <h3>üí¨ GitHub Copilot Prompt:</h3>
                    <pre><code># Test connections API endpoint
# Send connection request via Thunder Client
# Verify 201 status on success
# Test with invalid credentials (should return 400)</code></pre>
                </div>
                <p>Verify password encryption is working correctly:</p>
                <p><strong>File:</strong> <code>backend/src/__tests__/encryption.integration.test.ts</code></p>
                <pre><code>import { encryptPassword, decryptPassword } from '../utils/encryption';
import crypto from 'crypto';

describe('Encryption Integration Tests', () => {
  const testPassword = 'MySecurePassword123!';
  const testToken = 'AbCdEfGhIjKlMnOpQrSt';

  beforeAll(() => {
    // Ensure encryption key is set
    if (!process.env.ENCRYPTION_KEY) {
      process.env.ENCRYPTION_KEY = crypto.randomBytes(32).toString('hex');
    }
  });

  describe('Password Encryption', () => {
    it('should encrypt and decrypt password successfully', () => {
      const { encryptedData, iv } = encryptPassword(testPassword);
      
      expect(encryptedData).not.toBe(testPassword);
      expect(iv).toBeTruthy();
      expect(iv.length).toBe(32); // 16 bytes in hex

      const decrypted = decryptPassword(encryptedData, iv);
      expect(decrypted).toBe(testPassword);
    });

    it('should produce different encrypted values with different IVs', () => {
      const result1 = encryptPassword(testPassword);
      const result2 = encryptPassword(testPassword);

      expect(result1.encryptedData).not.toBe(result2.encryptedData);
      expect(result1.iv).not.toBe(result2.iv);
    });

    it('should handle special characters in passwords', () => {
      const specialPassword = 'P@ssw0rd!#$%^&*(){}[]|\\:";\'<>?,./';
      const { encryptedData, iv } = encryptPassword(specialPassword);
      const decrypted = decryptPassword(encryptedData, iv);

      expect(decrypted).toBe(specialPassword);
    });

    it('should handle empty strings', () => {
      const { encryptedData, iv } = encryptPassword('');
      const decrypted = decryptPassword(encryptedData, iv);

      expect(decrypted).toBe('');
    });

    it('should throw error with invalid IV during decryption', () => {
      const { encryptedData } = encryptPassword(testPassword);
      const invalidIv = 'invalidiv123';

      expect(() => {
        decryptPassword(encryptedData, invalidIv);
      }).toThrow();
    });

    it('should throw error with corrupted encrypted data', () => {
      const { iv } = encryptPassword(testPassword);
      const corruptedData = 'corrupted encrypted data!!!';

      expect(() => {
        decryptPassword(corruptedData, iv);
      }).toThrow();
    });
  });

  describe('Security Token Encryption', () => {
    it('should encrypt security token separately from password', () => {
      const passwordResult = encryptPassword(testPassword);
      const tokenResult = encryptPassword(testToken);

      expect(passwordResult.encryptedData).not.toBe(tokenResult.encryptedData);
      expect(passwordResult.iv).not.toBe(tokenResult.iv);

      expect(decryptPassword(passwordResult.encryptedData, passwordResult.iv)).toBe(testPassword);
      expect(decryptPassword(tokenResult.encryptedData, tokenResult.iv)).toBe(testToken);
    });
  });

  describe('Key Management', () => {
    it('should fail if encryption key is missing', () => {
      const originalKey = process.env.ENCRYPTION_KEY;
      delete process.env.ENCRYPTION_KEY;

      expect(() => {
        encryptPassword(testPassword);
      }).toThrow(/encryption key/i);

      process.env.ENCRYPTION_KEY = originalKey;
    });

    it('should fail if encryption key is wrong length', () => {
      const originalKey = process.env.ENCRYPTION_KEY;
      process.env.ENCRYPTION_KEY = 'tooshort';

      expect(() => {
        encryptPassword(testPassword);
      }).toThrow();

      process.env.ENCRYPTION_KEY = originalKey;
    });
  });
});                <pre><code>router.get('/projects/:id/analyze/summary', async (req, res) => {
  try {
    const projectId = parseInt(req.params.id);
    
    // Query database for analysis results
    const summary = {
      total_objects: 3,
      custom_objects: 0,
      total_fields: 45,
      custom_fields: 12,
      readiness_score: 0.92,
      warnings: ['Custom field Product2.Special__c has no target mapping'],
      analyzed_at: new Date().toISOString()
    };
    
    res.json(summary);
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});</code></pre>
            </div>
            
            <div class="content-section">
                <h2>üöÄ Step 4: Run Integration Tests</h2>
                <div class="copilot-prompt">
                    <h3>üí¨ GitHub Copilot Prompt:</h3>
                    <pre><code># Test frontend ConnectionForm
# Fill all fields with test credentials
# Click Test Connection button
# Verify success/error message displays</code></pre>
                </div>
                <p>Execute the test suite and verify coverage:</p>
                <pre><code># Run all integration tests
npm test -- connections.integration.test.ts

# Run encryption tests
npm test -- encryption.integration.test.ts

# Run with coverage
npm test -- --coverage connections.integration.test.ts</code></pre>
                
                <p><strong>Expected Test Results:</strong></p>
                <pre><code>PASS  src/__tests__/connections.integration.test.ts
  Connections API Integration Tests
    POST /api/v1/connections
      ‚úì should create a new Salesforce connection with valid credentials (245ms)
      ‚úì should reject connection with invalid credentials (156ms)
      ‚úì should validate required fields (45ms)
      ‚úì should encrypt password and security token before storing (198ms)
    GET /api/v1/connections
      ‚úì should return all connections without sensitive data (89ms)
    POST /api/v1/connections/:id/test
      ‚úì should successfully test existing connection (178ms)
      ‚úì should return error for non-existent connection (52ms)
      ‚úì should handle Salesforce API errors gracefully (123ms)

PASS  src/__tests__/encryption.integration.test.ts
  Encryption Integration Tests
    Password Encryption
      ‚úì should encrypt and decrypt password successfully (12ms)
      ‚úì should produce different encrypted values with different IVs (8ms)
      ‚úì should handle special characters in passwords (6ms)
      ‚úì should handle empty strings (5ms)
      ‚úì should throw error with invalid IV during decryption (7ms)
      ‚úì should throw error with corrupted encrypted data (6ms)
    Security Token Encryption
      ‚úì should encrypt security token separately from password (9ms)
    Key Management
      ‚úì should fail if encryption key is missing (3ms)
      ‚úì should fail if encryption key is wrong length (4ms)

Test Suites: 2 passed, 2 total
Tests:       16 passed, 16 total
Snapshots:   0 total
Time:        3.456s
Coverage:    87.5% Statements | 84.2% Branches | 89.1% Functions | 87.3% Lines</code></pre>
            </div>
            
            <div class="content-section">
                <h2>‚úÖ Completion Checklist</h2>
                <p>Verify all integration tests are complete:</p>
                <ul class="checklist">
                    <li>‚úÖ Test environment configured with test database</li>
                    <li>‚úÖ POST /api/v1/connections endpoint tested (create)</li>
                    <li>‚úÖ GET /api/v1/connections endpoint tested (list)</li>
                    <li>‚úÖ POST /api/v1/connections/:id/test endpoint tested</li>
                    <li>‚úÖ Encryption/decryption functions tested</li>
                    <li>‚úÖ Database persistence verified</li>
                    <li>‚úÖ Salesforce API mocking with nock working</li>
                    <li>‚úÖ Error handling scenarios covered</li>
                    <li>‚úÖ Test coverage above 80% for connections module</li>
                    <li>‚úÖ All tests passing consistently</li>
                </ul>
            </div>
            
            <div class="content-section">
                <h2>üìù Commit Your Changes</h2>
                <pre><code>git add backend/src/__tests__/connections.integration.test.ts backend/src/__tests__/encryption.integration.test.ts backend/src/config/test-db.ts
git commit -m "test(backend): add comprehensive integration tests for connections

- Created integration tests for connections API endpoints
- Added encryption/decryption test suite
- Implemented test database configuration and cleanup
- Mocked Salesforce API calls with nock
- Verified password encryption and database persistence
- Achieved 87% test coverage for connections module"
            const subsectionHeaders = document.querySelectorAll('.nav-subsection-header');
            subsectionHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    const content = this.nextElementSibling;
git commit -m "test(backend): add comprehensive integration tests for connections

- Created integration tests for connections API endpoints
- Added encryption/decryption test suite
- Implemented test database configuration and cleanup
- Mocked Salesforce API calls with nock
- Verified password encryption and database persistence
- Achieved 87% test coverage for connections module"</code></pre>
            </div>
            
            <div class="nav-buttons">
                <a href="dev3-day05.html" class="btn btn-secondary">Previous: Day 5</a>
                <a href="dev3-day07.html" class="btn">Next: Day 7</a>
            </div>
        </main>
    </div>
    
        <script>
        // Collapsible navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Handle section headers - single click toggle
            const sectionHeaders = document.querySelectorAll('.nav-section-header');
            sectionHeaders.forEach(header => {
                // Remove any existing listeners by cloning
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            // Now add listeners to fresh elements
            document.querySelectorAll('.nav-section-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Handle subsection headers - single click toggle
            const subsectionHeaders = document.querySelectorAll('.nav-subsection-header');
            subsectionHeaders.forEach(header => {
                // Remove any existing listeners by cloning
                const newHeader = header.cloneNode(true);
                header.parentNode.replaceChild(newHeader, header);
            });
            
            // Now add listeners to fresh elements
            document.querySelectorAll('.nav-subsection-header').forEach(header => {
                header.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    const content = this.nextElementSibling;
                    const isExpanded = this.classList.contains('expanded');
                    
                    if (isExpanded) {
                        this.classList.remove('expanded');
                        content.classList.remove('expanded');
                    } else {
                        this.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
            });
            
            // Auto-expand ONLY the current developer section and week
            const activeLinks = document.querySelectorAll('.nav-subsection-link.active');
            activeLinks.forEach(link => {
                // Expand parent developer section (only if it contains "Daily Tasks")
                let devSection = link.closest('.nav-section-content');
                if (devSection) {
                    const header = devSection.previousElementSibling;
                    if (header && header.textContent.includes('Daily Tasks')) {
                        devSection.classList.add('expanded');
                        header.classList.add('expanded');
                    }
                }
                
                // Expand parent week subsection
                let weekSubsection = link.closest('.nav-subsection-content');
                if (weekSubsection) {
                    weekSubsection.classList.add('expanded');
                    weekSubsection.previousElementSibling.classList.add('expanded');
                }
            });
        });
    </script>
</body>
</html>